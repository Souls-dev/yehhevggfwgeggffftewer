-- what v15

local TweenService = game:GetService("TweenService")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local Players = game:GetService("Players")
local Lighting = game:GetService("Lighting")

if game:GetService("CoreGui"):FindFirstChild("SOULS_HUB") then
    game:GetService("CoreGui").SOULS_HUB:Destroy()
end

local screenGui = Instance.new("ScreenGui")
screenGui.Name = "SOULS_HUB"
screenGui.Parent = game:GetService("CoreGui")

local mainFrame = Instance.new("Frame")
mainFrame.Name = "MainFrame"
mainFrame.Size = UDim2.new(0, 700, 0, 380)
mainFrame.Position = UDim2.new(0.5, 0, 0.5, 0)
mainFrame.AnchorPoint = Vector2.new(0.5, 0.5)
mainFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
mainFrame.BackgroundTransparency = 0.1
mainFrame.BorderSizePixel = 0
mainFrame.ClipsDescendants = true
mainFrame.ZIndex = 1
mainFrame.Visible = false
mainFrame.Parent = screenGui

local outline = Instance.new("UIStroke")
outline.Color = Color3.new(1, 1, 1)
outline.Thickness = 2
outline.Transparency = 0.1
outline.Parent = mainFrame

local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0, 16)
corner.Parent = mainFrame

local gradient = Instance.new("UIGradient")
gradient.Rotation = 90
gradient.Transparency = NumberSequence.new({
    NumberSequenceKeypoint.new(0, 0.6),
    NumberSequenceKeypoint.new(1, 0.8)
})
gradient.Parent = mainFrame

local toggleBtn = Instance.new("TextButton")
toggleBtn.Name = "ToggleButton"
toggleBtn.Size = UDim2.new(0, 140, 0, 40)
toggleBtn.Position = UDim2.new(0.5, -70, 0, 20)
toggleBtn.AnchorPoint = Vector2.new(0.5, 0)
toggleBtn.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
toggleBtn.BackgroundTransparency = 0.3
toggleBtn.Text = "TOGGLE MENU"
toggleBtn.TextColor3 = Color3.new(1, 1, 1)
toggleBtn.Font = Enum.Font.GothamBold
toggleBtn.TextSize = 14
toggleBtn.Visible = false
toggleBtn.ZIndex = 10
toggleBtn.Parent = screenGui

toggleTextOutline.Color = Color3.new(0, 0, 0)
toggleTextOutline.Thickness = 1
toggleTextOutline.Transparency = 0
toggleTextOutline.Parent = toggleBtn

toggleCorner.CornerRadius = UDim.new(0, 12)
toggleCorner.Parent = toggleBtn

toggleOutline.Color = Color3.new(1, 1, 1)
toggleOutline.Thickness = 1
toggleOutline.Transparency = 0.2
toggleOutline.Parent = toggleBtn

local function makeDraggable(frame)
    local dragging = false
    local dragInput, dragStart, startPos

    frame.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
            dragging = true
            dragStart = input.Position
            startPos = frame.Position
        end
    end)

    frame.InputEnded:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
            dragging = false
            dragInput = nil
        end
    end)

    UserInputService.InputChanged:Connect(function(input)
        if dragging and (input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch) then
            dragInput = input
            local delta = input.Position - dragStart
            frame.Position = UDim2.new(
                startPos.X.Scale,
                startPos.X.Offset + delta.X,
                startPos.Y.Scale,
                startPos.Y.Offset + delta.Y
            )
        end
    end)
end
makeDraggable(mainFrame)
makeDraggable(toggleBtn)

closeBtn.Name = "CloseButton"
closeBtn.Size = UDim2.new(0, 30, 0, 30)
closeBtn.Position = UDim2.new(1, -35, 0, 10)
closeBtn.AnchorPoint = Vector2.new(1, 0)
closeBtn.BackgroundTransparency = 1
closeBtn.Text = "X"
closeBtn.TextColor3 = Color3.new(1, 1, 1)
closeBtn.TextSize = 20
closeBtn.Font = Enum.Font.GothamBold
closeBtn.ZIndex = 3
closeBtn.Parent = mainFrame

closeTextOutline.Color = Color3.new(0, 0, 0)
closeTextOutline.Thickness = 1
closeTextOutline.Transparency = 0
closeTextOutline.Parent = closeBtn

local titleFont = Enum.Font.GothamBold
local titleText = Instance.new("TextLabel")
titleText.Name = "Title"
titleText.Size = UDim2.new(0, 200, 0, 30)
titleText.Position = UDim2.new(0, 20, 0, 10)
titleText.BackgroundTransparency = 1
titleText.Text = "SOULS HUB"
titleText.TextColor3 = Color3.new(1, 1, 1)
titleText.TextSize = 24
titleText.Font = titleFont
titleText.TextXAlignment = Enum.TextXAlignment.Left
titleText.ZIndex = 2
titleText.Parent = mainFrame

titleTextOutline.Color = Color3.new(0, 0, 0)
titleTextOutline.Thickness = 1
titleTextOutline.Transparency = 0
titleTextOutline.Parent = titleText

titleGlow.Color = ColorSequence.new({
    ColorSequenceKeypoint.new(0, Color3.new(1, 1, 1)),
    ColorSequenceKeypoint.new(0.5, Color3.new(0.85, 0.85, 0.85)),
    ColorSequenceKeypoint.new(1, Color3.new(1, 1, 1))
})
titleGlow.Rotation = -45
titleGlow.Transparency = NumberSequence.new(0.6)
titleGlow.Parent = titleText

topSeparator.Name = "TopSeparator"
topSeparator.Size = UDim2.new(1, -40, 0, 1)
topSeparator.Position = UDim2.new(0, 20, 0, 50)
topSeparator.BackgroundColor3 = Color3.new(1, 1, 1)
topSeparator.BorderSizePixel = 0
topSeparator.ZIndex = 2
topSeparator.Parent = mainFrame

verticalSeparator.Name = "VerticalSeparator"
verticalSeparator.Size = UDim2.new(0, 1, 1, -120)
verticalSeparator.Position = UDim2.new(0, 170, 0, 70)
verticalSeparator.BackgroundColor3 = Color3.new(1, 1, 1)
verticalSeparator.BorderSizePixel = 0
verticalSeparator.ZIndex = 2
verticalSeparator.Parent = mainFrame

tabContainer.Name = "Tabs"
tabContainer.Size = UDim2.new(0, 150, 0, 280)
tabContainer.Position = UDim2.new(0, 15, 0, 70)
tabContainer.BackgroundTransparency = 1
tabContainer.ZIndex = 2
tabContainer.Parent = mainFrame

contentContainer.Name = "Content"
contentContainer.Size = UDim2.new(0, 500, 0, 280)
contentContainer.Position = UDim2.new(1, -515, 0, 70)
contentContainer.BackgroundTransparency = 1
contentContainer.ZIndex = 2
contentContainer.Parent = mainFrame

local function createTab(tabName)
    tab.Name = tabName
    tab.Size = UDim2.new(0, 140, 0, 30)
    tab.Position = UDim2.new(0, 0, 0, #tabContainer:GetChildren() * 35)
    tab.BackgroundTransparency = 1
    tab.Text = tabName
    tab.TextColor3 = Color3.new(1, 1, 1)
    tab.TextSize = 18
    tab.Font = Enum.Font.GothamBold
    tab.TextTransparency = 0.5
    tab.ZIndex = 3

    tabTextOutline.Color = Color3.new(0, 0, 0)
    tabTextOutline.Thickness = 1
    tabTextOutline.Transparency = 0.5
    tabTextOutline.Parent = tab

    outline.Color = Color3.new(1, 1, 1)
    outline.Thickness = 1
    outline.Transparency = 0.5
    outline.Parent = tab

    local content = Instance.new("ScrollingFrame")
    content.Name = tabName.."Content"
    content.Size = UDim2.new(1, 0, 1, 0)
    content.BackgroundTransparency = 1
    content.Visible = false
    content.ScrollBarThickness = 5
    content.AutomaticCanvasSize = Enum.AutomaticSize.Y
    content.Parent = contentContainer

    tab.Parent = tabContainer
    return tab, content
end

local function addCategory(parent, text)
    category.Name = text.."Category"
    category.Size = UDim2.new(0, 200, 0, 20)
    category.Position = UDim2.new(0, 0, 0, #parent:GetChildren() * 45)
    category.BackgroundTransparency = 1
    category.Text = text
    category.TextColor3 = Color3.new(1, 1, 1)
    category.TextSize = 16
    category.Font = titleFont
    category.TextXAlignment = Enum.TextXAlignment.Left
    category.ZIndex = 3

    categoryTextOutline.Color = Color3.new(0, 0, 0)
    categoryTextOutline.Thickness = 1
    categoryTextOutline.Transparency = 0
    categoryTextOutline.Parent = category

    category.Parent = parent
end

local function createButton(parent, buttonText, func)
    button.Name = buttonText
    button.Size = UDim2.new(0, 200, 0, 40)
    button.Position = UDim2.new(0, 0, 0, #parent:GetChildren() * 45)
    button.BackgroundTransparency = 1
    button.Text = buttonText
    button.TextColor3 = Color3.new(1, 1, 1)
    button.Font = Enum.Font.GothamBold
    button.TextSize = 14
    button.ZIndex = 3

    buttonTextOutline.Color = Color3.new(0, 0, 0)
    buttonTextOutline.Thickness = 1
    buttonTextOutline.Transparency = 0.3
    buttonTextOutline.Parent = button

    outline.Color = Color3.new(1, 1, 1)
    outline.Thickness = 1
    outline.Transparency = 0.3
    outline.Parent = button

    corner.CornerRadius = UDim.new(0, 6)
    corner.Parent = button

    button.MouseButton1Click:Connect(function()
        if func then func() end
    end)

    button.MouseEnter:Connect(function()
        TweenService:Create(button, TweenInfo.new(0.2), {
            BackgroundTransparency = 0.85,
            TextColor3 = Color3.new(0.9, 0.9, 0.9)
        }):Play()
    end)

    button.MouseLeave:Connect(function()
        TweenService:Create(button, TweenInfo.new(0.2), {
            BackgroundTransparency = 1,
            TextColor3 = Color3.new(1, 1, 1)
        }):Play()
    end)

    button.Parent = parent
    return button
end

local function createToggle(parent, defaultText, onText, offText, onFunction, offFunction)
    toggleButton.Name = "ToggleButton"
    toggleButton.Size = UDim2.new(0, 200, 0, 40)
    toggleButton.Position = UDim2.new(0, 0, 0, #parent:GetChildren() * 45)
    toggleButton.BackgroundTransparency = 1
    toggleButton.Text = defaultText or "TOGGLE"
    toggleButton.TextColor3 = Color3.new(1, 1, 1)
    toggleButton.Font = Enum.Font.GothamBold
    toggleButton.TextSize = 14
    toggleButton.ZIndex = 3

    toggleTextOutline.Color = Color3.new(0, 0, 0)
    toggleTextOutline.Thickness = 1
    toggleTextOutline.Transparency = 0.3
    toggleTextOutline.Parent = toggleButton

    outline.Color = Color3.new(1, 1, 1)
    outline.Thickness = 1
    outline.Transparency = 0.3
    outline.Parent = toggleButton

    corner.CornerRadius = UDim.new(0, 6)
    corner.Parent = toggleButton

    toggleButton.MouseEnter:Connect(function()
        TweenService:Create(toggleButton, TweenInfo.new(0.2), {
            BackgroundTransparency = 0.85,
            TextColor3 = Color3.new(0.9, 0.9, 0.9)
        }):Play()
    end)

    toggleButton.MouseLeave:Connect(function()
        TweenService:Create(toggleButton, TweenInfo.new(0.2), {
            BackgroundTransparency = 1,
            TextColor3 = Color3.new(1, 1, 1)
        }):Play()
    end)

    toggleButton.MouseButton1Down:Connect(function()
        game:GetService("TweenService"):Create(
            toggleButton,
            TweenInfo.new(0.1),
            {Size = UDim2.new(0, 190, 0, 38)}
        ):Play()
    end)

    toggleButton.MouseButton1Up:Connect(function()
        game:GetService("TweenService"):Create(
            toggleButton,
            TweenInfo.new(0.2),
            {Size = UDim2.new(0, 200, 0, 40)}
        ):Play()
    end)

    toggleButton.MouseButton1Click:Connect(function()
        toggleEnabled = not toggleEnabled

        if toggleEnabled then
            toggleButton.Text = onText or "ON"
            if onFunction then onFunction() end
        else
            toggleButton.Text = offText or "OFF"
            if offFunction then offFunction() end
        end
    end)

    toggleButton.Parent = parent
    return toggleButton
end

local mainTab, mainContent = createTab("MAIN FEATURES")
local stylesTab, stylesContent = createTab("CUSTOM STYLES")
local flowTab, flowContent = createTab("STYLE")
local styleTab, styleContent = createTab("FLOW")
local premiumTab, premiumContent = createTab("PREMIUM")
local creditsTab, creditsContent = createTab("CREDITS")
local positionTab, positionContent = createTab("POSITION SELECTOR")
local externalhubTab, externalContent = createTab("EXTERNAL HUBS")

addCategory(mainContent, "MAIN FEATURES")

local powerValue = 60
local shootButton = nil

local powerInput = Instance.new("TextBox")
powerInput.Name = "PowerInput"
powerInput.Size = UDim2.new(0, 300, 0, 40)
powerInput.Position = UDim2.new(0.5, -150, 0, 30)
powerInput.AnchorPoint = Vector2.new(0.5, 0)
powerInput.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
powerInput.TextColor3 = Color3.new(1, 1, 1)
powerInput.Font = Enum.Font.GothamBold
powerInput.TextSize = 14
powerInput.PlaceholderText = "Enter Power (Default: 60)"
powerInput.Text = tostring(powerValue)
powerInput.ZIndex = 3
powerInput.Parent = mainContent

powerApply.Name = "PowerApply"
powerApply.Size = UDim2.new(0, 200, 0, 40)
powerApply.Position = UDim2.new(0.5, -100, 0, 80)
powerApply.AnchorPoint = Vector2.new(0.5, 0)
powerApply.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
powerApply.BackgroundTransparency = 0.3
powerApply.Text = "APPLY POWER"
powerApply.TextColor3 = Color3.new(1, 1, 1)
powerApply.Font = Enum.Font.GothamBold
powerApply.TextSize = 14
powerApply.ZIndex = 3
powerApply.Parent = mainContent

powerToggle.Name = "PowerToggle"
powerToggle.Size = UDim2.new(0, 100, 0, 30)
powerToggle.Position = UDim2.new(0.5, 120, 0, 80)
powerToggle.AnchorPoint = Vector2.new(0.5, 0)
powerToggle.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
powerToggle.BackgroundTransparency = 0.3
powerToggle.Text = "ENABLE"
powerToggle.TextColor3 = Color3.new(1, 1, 1)
powerToggle.Font = Enum.Font.GothamBold
powerToggle.TextSize = 14
powerToggle.ZIndex = 3
powerToggle.Parent = mainContent

local function updateShootButton()
    local playerGui = game:GetService("Players").LocalPlayer:WaitForChild("PlayerGui")
    local inGameUI = playerGui:WaitForChild("InGameUI")
    local bottomUI = inGameUI:WaitForChild("Bottom")
    local abilities = bottomUI:WaitForChild("Abilities")

    if not customAbilityButton then
        local originalButton = abilities:WaitForChild("1")
        customAbilityButton = originalButton:Clone()
        customAbilityButton.Name = "custom"
        customAbilityButton.Parent = abilities

        local timerText = customAbilityButton:WaitForChild("Timer")
        timerText.Text = "SHOOT"
    end

    if not shootButton then
        shootButton = Instance.new("TextButton")
        shootButton.Size = UDim2.new(0, 40, 0, 40)
        shootButton.Position = UDim2.new(0, 593, 0, 159)
        shootButton.BackgroundTransparency = 1
        shootButton.Text = ""
        shootButton.Parent = playerGui

        uiCorner.CornerRadius = UDim.new(1, 0)
        uiCorner.Parent = shootButton
    end

    local function shootBall()
        local player = game:GetService("Players").LocalPlayer
        local character = player.Character or player.CharacterAdded:Wait()
        local humanoid = character:WaitForChild("Humanoid")
        local cam = workspace.CurrentCamera

        if not cam then
            warn("Camera not found.")
            return
        end

        local direction = (cam.CFrame.LookVector + Vector3.new(0, 0.25, 0)).Unit
        local args = {
            [1] = powerValue,
            [2] = nil,
            [3] = nil,
            [4] = direction
        }

        print("Firing Shoot event with args:")
        print("Power:", powerValue)
        print("Direction:", direction)

        local animator = humanoid:FindFirstChildOfClass("Animator") or Instance.new("Animator", humanoid)
        local anim = Instance.new("Animation")
        anim.AnimationId = "rbxassetid://18668827116"
        local track = animator:LoadAnimation(anim)
        track:Play()

        local success, err = pcall(function()
            game:GetService("ReplicatedStorage")
                :WaitForChild("Packages", 9e9)
                :WaitForChild("Knit", 9e9)
                :WaitForChild("Services", 9e9)
                :WaitForChild("BallService", 9e9)
                :WaitForChild("RE", 9e9)
                :WaitForChild("Shoot", 9e9)
                :FireServer(unpack(args))
        end)

        if not success then
            warn("Failed to fire Shoot event: ", err)
        else
            print("Shoot fired successfully with power:", powerValue, "and direction:", direction)
        end
    end

    shootButton.Activated:Connect(shootBall)
    customAbilityButton.Activated:Connect(shootBall)
end

local function removeShootButton()
    if shootButton then
        shootButton:Destroy()
        shootButton = nil
    end
    if customAbilityButton then
        customAbilityButton:Destroy()
        customAbilityButton = nil
    end
end

powerApply.MouseButton1Click:Connect(function()
    local num = tonumber(powerInput.Text)
    if num then
        powerValue = num
        game:GetService("StarterGui"):SetCore("SendNotification", {
            Title = "Power Updated",
            Text = "Kick power set to: "..powerValue,
            Duration = 3
        })
        if powerEnabled then
            updateShootButton()
        end
    else
        game:GetService("StarterGui"):SetCore("SendNotification", {
            Title = "Invalid Input",
            Text = "Please enter a valid number",
            Duration = 3
        })
    end
end)

powerToggle.MouseButton1Click:Connect(function()
    powerEnabled = not powerEnabled

    if powerEnabled then
        powerToggle.Text = "DISABLE"
        updateShootButton()
        game:GetService("StarterGui"):SetCore("SendNotification", {
            Title = "Kick Power Enabled",
            Text = "Power: "..powerValue,
            Duration = 3
        })
    else
        powerToggle.Text = "ENABLE"
        removeShootButton()
        game:GetService("StarterGui"):SetCore("SendNotification", {
            Title = "Kick Power Disabled",
            Text = "",
            Duration = 3
        })
    end
end)

autoCategory.Name = "AutoFeaturesCategory"
autoCategory.Size = UDim2.new(1, -40, 0, 180)
autoCategory.Position = UDim2.new(0, 20, 0, 130)
autoCategory.BackgroundTransparency = 1
autoCategory.Parent = mainContent

categoryLabel.Name = "AutoFeaturesLabel"
categoryLabel.Size = UDim2.new(1, 0, 0, 25)
categoryLabel.Position = UDim2.new(0, 0, 0, 0)
categoryLabel.BackgroundTransparency = 1
categoryLabel.Text = "AUTO FEATURES"
categoryLabel.TextColor3 = Color3.new(1, 1, 1)
categoryLabel.TextSize = 18
categoryLabel.Font = Enum.Font.GothamBold
categoryLabel.TextXAlignment = Enum.TextXAlignment.Left
categoryLabel.ZIndex = 3
categoryLabel.Parent = autoCategory

underline.Size = UDim2.new(0, 150, 0, 1)
underline.Position = UDim2.new(0, 0, 0, 24)
underline.BackgroundColor3 = Color3.new(1, 1, 1)
underline.BorderSizePixel = 0
underline.ZIndex = 3
underline.Parent = autoCategory

getgenv().AutoSettings = {
    DribbleEnabled = false,
    TackleEnabled = false,
    TeleportEnabled = false,
    DribbleRange = 15,
    TackleRange = 10,
    TeleportRange = 20
}

local yPosition = 35

local dribbleToggle = createToggle(
    autoCategory,
    "AUTO DRIBBLE OFF",
    "AUTO DRIBBLE ON",
    "AUTO DRIBBLE OFF",
    function() getgenv().AutoSettings.DribbleEnabled = true end,
    function() getgenv().AutoSettings.DribbleEnabled = false end
)
dribbleToggle.Position = UDim2.new(0, 0, 0, yPosition)

dribbleRange.Size = UDim2.new(0, 60, 0, 25)
dribbleRange.Position = UDim2.new(1, -60, 0, yPosition)
dribbleRange.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
dribbleRange.TextColor3 = Color3.new(1, 1, 1)
dribbleRange.Text = "15"
dribbleRange.Font = Enum.Font.Gotham
dribbleRange.TextSize = 14
dribbleRange.Parent = autoCategory

yPosition = yPosition + 45

    autoCategory,
    "AUTO TACKLE OFF",
    "AUTO TACKLE ON",
    "AUTO TACKLE OFF",
    function() getgenv().AutoSettings.TackleEnabled = true end,
    function()
        getgenv().AutoSettings.TackleEnabled = false
        getgenv().AutoSettings.TeleportEnabled = false
    end
)
tackleToggle.Position = UDim2.new(0, 0, 0, yPosition)

tackleRange.Size = UDim2.new(0, 60, 0, 25)
tackleRange.Position = UDim2.new(1, -60, 0, yPosition)
tackleRange.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
tackleRange.TextColor3 = Color3.new(1, 1, 1)
tackleRange.Text = "10"
tackleRange.Font = Enum.Font.Gotham
tackleRange.TextSize = 14
tackleRange.Parent = autoCategory

yPosition = yPosition + 45

    autoCategory,
    "AUTO TP (OP) OFF",
    "AUTO TP (OP) ON",
    "AUTO TP (OP) OFF",
    function()
        if getgenv().AutoSettings.TackleEnabled then
            getgenv().AutoSettings.TeleportEnabled = true
        else
            game:GetService("StarterGui"):SetCore("SendNotification", {
                Title = "ERROR",
                Text = "Enable Auto Tackle first!",
                Duration = 3
            })
            teleportToggle.Text = "AUTO TP (OP) OFF"
        end
    end,
    function() getgenv().AutoSettings.TeleportEnabled = false end
)
teleportToggle.Position = UDim2.new(0, 0, 0, yPosition)

teleportRange.Size = UDim2.new(0, 60, 0, 25)
teleportRange.Position = UDim2.new(1, -60, 0, yPosition)
teleportRange.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
teleportRange.TextColor3 = Color3.new(1, 1, 1)
teleportRange.Text = "20"
teleportRange.Font = Enum.Font.Gotham
teleportRange.TextSize = 14
teleportRange.Parent = autoCategory

dribbleRange.FocusLost:Connect(function()
    local num = tonumber(dribbleRange.Text)
    getgenv().AutoSettings.DribbleRange = num and math.clamp(num, 1, 50) or 15
    dribbleRange.Text = tostring(getgenv().AutoSettings.DribbleRange)
end)

tackleRange.FocusLost:Connect(function()
    local num = tonumber(tackleRange.Text)
    getgenv().AutoSettings.TackleRange = num and math.clamp(num, 1, 50) or 10
    tackleRange.Text = tostring(getgenv().AutoSettings.TackleRange)
end)

teleportRange.FocusLost:Connect(function()
    local num = tonumber(teleportRange.Text)
    getgenv().AutoSettings.TeleportRange = num and math.clamp(num, 1, 100) or 20
    teleportRange.Text = tostring(getgenv().AutoSettings.TeleportRange)
end)


local InfStaminaButton = createButton(mainContent, "INFINITE STAMINA", function()
    local stamina = game:GetService("Players").LocalPlayer:WaitForChild("PlayerStats"):WaitForChild("Stamina")
local old;old = hookmetamethod(game,"__index",newcclosure(function(self,key)
    if not checkcaller() and self == stamina and key == "Value" then
        return 100
    end
    return old(self,key)
end))
end)

    mainContent,
    "AUTO GK OFF",
    "AUTO GK ON",
    "AUTO GK OFF",
    function()
        local player = game.Players.LocalPlayer
        local humanoidRootPart = character:WaitForChild("HumanoidRootPart")
        local head = character:WaitForChild("Head")
        local playerStats = player:WaitForChild("PlayerStats")
        local hasShot = playerStats:WaitForChild("HasShot")

        local tweenSpeedForCatch = 0.10
        local waitforacatchtime = 0.3
        scriptEnabled = true

        local function diveAndCatch(ball)
            if not ball or not ball:IsDescendantOf(workspace) then return end

            local distance = (humanoidRootPart.Position - ball.Position).Magnitude
            if distance <= 45 then
                local velocity = ball.Velocity.Magnitude
                local upward = ball.Position.Y >= head.Position.Y

                game:GetService("ReplicatedStorage").Packages.Knit.Services.BallService.RE.Dive:FireServer()

                anim.AnimationId = "rbxassetid://18694494525"
                humanoid:LoadAnimation(anim):Play()

                if upward then
                    humanoid:ChangeState(Enum.HumanoidStateType.Physics)
                    humanoid:Move(Vector3.new(0, 70, 0))
                end

                TweenService:Create(humanoidRootPart, TweenInfo.new(tweenSpeedForCatch, Enum.EasingStyle.Linear), {
                    CFrame = ball.CFrame
                }):Play()
            end
        end

        hasShot.Changed:Connect(function(val)
            if val == true then
                scriptEnabled = false
                task.wait(1)
                scriptEnabled = true
            end
        end)

        task.spawn(function()
            while scriptEnabled do
                task.wait(0.05)
                local ball = workspace:FindFirstChild("Football") and workspace.Football:FindFirstChild("Hitbox")
                if ball then
                    diveAndCatch(ball)
                    task.wait(waitforacatchtime)
                end
            end
        end)
    end,
    function()
        scriptEnabled = false
    end
)

local ballfrButton = createButton(
    mainContent,
    "BALL CONTROL",
    function()
        loadstring(game:HttpGet("https://gist.githubusercontent.com/Souls-dev/e148bb06cec1993a7dd250dfea387a7f/raw/357fd00ed9492c3cc3bc4c7a1a78c87b3b07911b/Ball%2520control"))()
    end
)

    mainContent,
    "INF MONEY",
    function()
        local moneyUI = Instance.new("ScreenGui", game.Players.LocalPlayer.PlayerGui)
        moneyUI.Name = "MoneyFarmUI"
        moneyUI.ResetOnSpawn = false
        moneyUI.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

        local frame = Instance.new("Frame", moneyUI)
        frame.Size = UDim2.new(0, 300, 0, 180)
        frame.Position = UDim2.new(0.5, -150, 0.5, -90)
        frame.AnchorPoint = Vector2.new(0.5, 0.5)
        frame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
        frame.BorderColor3 = Color3.fromRGB(255, 255, 255)
        frame.Active = true
        frame.Draggable = true

        local corner = Instance.new("UICorner", frame)
        corner.CornerRadius = UDim.new(0, 8)

        local title = Instance.new("TextLabel", frame)
        title.Text = "INFINITE MONEY FARM"
        title.Size = UDim2.new(1, 0, 0, 30)
        title.Position = UDim2.new(0, 0, 0, 0)
        title.BackgroundTransparency = 1
        title.TextColor3 = Color3.fromRGB(255, 255, 255)
        title.Font = Enum.Font.GothamBold

        local function createInput(posY, placeholder, default)
            local box = Instance.new("TextBox", frame)
            box.Size = UDim2.new(0, 280, 0, 30)
            box.Position = UDim2.new(0, 10, 0, posY)
            box.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
            box.TextColor3 = Color3.fromRGB(255, 255, 255)
            box.PlaceholderText = placeholder
            box.PlaceholderColor3 = Color3.fromRGB(150, 150, 150)
            box.Text = default or ""
            Instance.new("UICorner", box).CornerRadius = UDim.new(0, 6)
            return box
        end

        local usernameBox = createInput(40, "Target Username", "")
        local delayBox = createInput(80, "Delay (0.1)", "0.1")
        local timesBox = createInput(120, "Times (50)", "50")

        local function createButton(text, pos, size, color)
            local btn = Instance.new("TextButton", frame)
            btn.Text = text
            btn.Size = UDim2.new(0, size.X, 0, size.Y)
            btn.Position = UDim2.new(0, pos.X, 0, pos.Y)
            btn.BackgroundColor3 = color or Color3.fromRGB(50, 50, 50)
            btn.TextColor3 = Color3.fromRGB(255, 255, 255)
            btn.AutoButtonColor = false
            Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 6)

            btn.MouseEnter:Connect(function()
                game:GetService("TweenService"):Create(btn, TweenInfo.new(0.2), {
                    BackgroundColor3 = Color3.fromRGB(70, 70, 70)
                }):Play()
            end)

            btn.MouseLeave:Connect(function()
                game:GetService("TweenService"):Create(btn, TweenInfo.new(0.2), {
                    BackgroundColor3 = color or Color3.fromRGB(50, 50, 50)
                }):Play()
            end)

            return btn
        end

        local runButton = createButton("RUN", Vector2.new(10, 160), Vector2.new(135, 30))
        local loopButton = createButton("LOOP", Vector2.new(155, 160), Vector2.new(135, 30))
        local closeButton = createButton("X", Vector2.new(270, 0), Vector2.new(30, 30), Color3.fromRGB(80, 0, 0))

        local AbilityRE = game:GetService("ReplicatedStorage").Packages.Knit.Services.AbilityService.RE.Ability

        runButton.MouseButton1Click:Connect(function()
            local target = workspace:FindFirstChild(usernameBox.Text)
            if target then
                for i = 1, tonumber(timesBox.Text) or 50 do
                    AbilityRE:FireServer("OneTwo", target)
                    task.wait(tonumber(delayBox.Text) or 0.1)
                end
            else
                game:GetService("StarterGui"):SetCore("SendNotification", {
                    Title = "Error",
                    Text = "Target not found!",
                    Duration = 3
                })
            end
        end)

        loopButton.MouseButton1Click:Connect(function()
            if target then
                loopRunning = not loopRunning
                loopButton.Text = loopRunning and "STOP" or "LOOP"
                loopButton.BackgroundColor3 = loopRunning and Color3.fromRGB(80, 0, 0) or Color3.fromRGB(50, 50, 50)

                if loopRunning then
                    coroutine.wrap(function()
                        while loopRunning and moneyUI.Parent do
                            AbilityRE:FireServer("OneTwo", target)
                            task.wait(tonumber(delayBox.Text) or 0.1)
                        end
                    end)()
                end
            else
                game:GetService("StarterGui"):SetCore("SendNotification", {
                    Title = "Error",
                    Text = "Target not found!",
                    Duration = 3
                })
            end
        end)

        closeButton.MouseButton1Click:Connect(function()
            loopRunning = false
            moneyUI:Destroy()
        end)
    end
)

local ReplicatedStorage = game:GetService("ReplicatedStorage")
local player = Players.LocalPlayer

-- Body Block Spam Variables

local function getOpposingTeamPlayers()
    local myTeam = player.Team
    local enemies = {}

    for _, otherPlayer in ipairs(Players:GetPlayers()) do
        if otherPlayer.Team and otherPlayer.Team ~= myTeam and otherPlayer.Character then
            table.insert(enemies, otherPlayer)
        end
    end

    return enemies
end

local function spamBodyBlock()
    while true do
        local enemies = getOpposingTeamPlayers()
        for _, enemy in ipairs(enemies) do
                [1] = "BodyBlock",
                [2] = enemy.Character
            }
            ReplicatedStorage.Packages.Knit.Services.AbilityService.RE.Ability:FireServer(unpack(args))
        end
        task.wait()
    end
end

-- Toggle function for body block spam
    mainContent,
    "BODY BLOCK ALL OFF",  -- Off state text
    "BODY BLOCK ALL ON",   -- On state text
    "BODY BLOCK ALL OFF",  -- Tooltip text
    function()  -- OnToggleOn callback
        if not isRunning then
            isRunning = true
            spamThread = task.spawn(spamBodyBlock)
        end
    end,
    function()  -- OnToggleOff callback
        if isRunning and spamThread then
            task.cancel(spamThread)
            isRunning = false
        end
    end
)

-- // Services
local VirtualInputManager = game:GetService("VirtualInputManager")

-- // Player & Character Variables
local PlayerGui = LocalPlayer:WaitForChild("PlayerGui")

-- // Configuration
local TERRITORY_RESUME_DELAY = 1.0 -- How long AFTER losing the ball until Territory spam resumes (seconds)
local GOAL_RADIUS_CHECK = 100 -- Studs
local SPAM_INTERVAL = 0.1 -- Interval for Territory spam when active (seconds)
local SIXTHSENSE_REPEAT_INTERVAL = 15.0 -- How often SixthSense repeats WHILE inside the radius (seconds)

-- // State Variables
local scriptIsActive = false -- This flag is controlled by the external toggle
local remotesReady = false -- Tracks if Knit/Ability remotes are successfully found
local waitingToResumeSpam = false -- Tracks delay after *losing* ball
local isCurrentlyWithinGoalRadius = false -- Tracks current radius status
local lastSixthSenseActivationTime = 0 -- Tracks the last time SixthSense was fired

-- // Goal Coordinates
local homeGoalPos = Vector3.new(325, 15, -49)
local awayGoalPos = Vector3.new(-247, 15, -50)

-- // Function Declarations
local function getOwnGoalPos()
    local team = LocalPlayer.Team
    if not team then return nil end
    if team.Name == "Home" then
        return homeGoalPos
    elseif team.Name == "Away" then
        return awayGoalPos
    else
        return nil
    end
end

local function setupRemotes()
    local success = pcall(function()
        Knit = ReplicatedStorage:WaitForChild("Packages", 60):WaitForChild("Knit", 60)
        AbilityService = Knit.Services:WaitForChild("AbilityService", 60)
        local RE = AbilityService:WaitForChild("RE", 60)
        AbilityRemote = RE:WaitForChild("Ability", 60)
        AbilityUsedRemote = RE:WaitForChild("AbilityUsed", 60)
    end)
    if success and Knit and AbilityService and AbilityRemote and AbilityUsedRemote then
        remotesReady = true
        return true
    else
        remotesReady = false
        return false
    end
end

local function setupPlayerComponents()
    character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
    if not character then return false end
    humanoid = character:WaitForChild("Humanoid", 10)
    rootPart = character:WaitForChild("HumanoidRootPart", 10)
    playerValues = character:WaitForChild("Values", 10)
    if not (humanoid and rootPart and playerValues) then return false end
    hasBallValue = playerValues:FindFirstChild("HasBall")
    if not hasBallValue or not hasBallValue:IsA("BoolValue") then
        task.wait(0.5)
        hasBallValue = playerValues:FindFirstChild("HasBall")
        if not hasBallValue or not hasBallValue:IsA("BoolValue") then
             hasBallValue = nil
             return false
        end
    end
    return true
end

-- Handles Territory spam
local function spamTerritory()
    if not AbilityRemote or not AbilityUsedRemote then
        isSpammingCoroutineRunning = false
        return
    end
    isSpammingCoroutineRunning = true
    while territorySpamAllowed and scriptIsActive do
        for _, player in ipairs(Players:GetPlayers()) do
            if player ~= LocalPlayer and player.Character then
                anyTargets = true
                pcall(function()
                    AbilityRemote:FireServer("Territory", player.Character)
                    AbilityUsedRemote:FireServer("Territory")
                end)
            end
        end
        task.wait(SPAM_INTERVAL)
    end
    isSpammingCoroutineRunning = false
end

-- Handles SixthSense activation
local function activateSixthSense()
    if not remotesReady or not AbilityRemote then
        return -- Exit if remotes aren't ready
    end
        local args = { "Territory", "SixthSense" }
        AbilityRemote:FireServer(unpack(args))
    end)
    if success then
        lastSixthSenseActivationTime = tick() -- Update timer ONLY if the remote fire was attempted successfully
    end
end

-- // One-Time Initialization
local function initialize()
    if not setupRemotes() then
       return -- Stop initialization if remotes fail
    end
    if not setupPlayerComponents() then
       return -- Stop initialization if components fail
    end

    -- Set initial style

    previousHasBall = hasBallValue and hasBallValue.Value or false
end

-- // Main Loop Logic
RunService.Heartbeat:Connect(function(deltaTime)
    if not scriptIsActive then return end -- Skip if the toggle is OFF
    if not remotesReady then return end -- Skip if remotes aren't ready

    -- Re-check components periodically
    if not hasBallValue or not hasBallValue.Parent or not rootPart or not rootPart.Parent or not LocalPlayer.Team then
        if not setupPlayerComponents() then
            territorySpamAllowed = false
            isSpammingCoroutineRunning = false
            isCurrentlyWithinGoalRadius = false
            lastSixthSenseActivationTime = 0
            waitingToResumeSpam = false
            resumeSpamTimerActive = false
            return
        end
        previousHasBall = hasBallValue and hasBallValue.Value or false
    end

    local currentHasBall = hasBallValue.Value

    -- HasBall State Change Detection & Territory Spam Control (v5 logic)
    if currentHasBall ~= previousHasBall then
        if currentHasBall then
            -- Player JUST got the ball
            territorySpamAllowed = false -- Immediately stop allowing spam
            waitingToResumeSpam = false -- Cancel any pending resume timer
            resumeSpamTimerActive = false
        else
            -- Player JUST lost the ball
            territorySpamAllowed = false -- Ensure spam is stopped before starting delay
            if not resumeSpamTimerActive then
                waitingToResumeSpam = true
                resumeSpamTimerActive = true
                task.delay(TERRITORY_RESUME_DELAY, function()
                    if scriptIsActive and waitingToResumeSpam and hasBallValue and not hasBallValue.Value then
                        territorySpamAllowed = true
                    else
                        territorySpamAllowed = false
                    end
                    waitingToResumeSpam = false
                    resumeSpamTimerActive = false
                end)
            end
        end
        previousHasBall = currentHasBall
    end

    -- Start/Stop Territory Spam Coroutine
    if territorySpamAllowed and not isSpammingCoroutineRunning then
         if hasBallValue and not hasBallValue.Value then
             coroutine.wrap(spamTerritory)()
         else
             territorySpamAllowed = false
         end
    end

    -- Goal Radius Check & SixthSense Activation Logic
    local ownGoalPosition = getOwnGoalPos()
    if ownGoalPosition and rootPart then
        local playerPosXZ = Vector3.new(rootPart.Position.X, 0, rootPart.Position.Z)
        local goalPosXZ = Vector3.new(ownGoalPosition.X, 0, ownGoalPosition.Z)
        local distance = (playerPosXZ - goalPosXZ).Magnitude
        currentlyWithinRadiusCheck = distance <= GOAL_RADIUS_CHECK
    end

    -- Check for entering/leaving the radius
    if currentlyWithinRadiusCheck and not isCurrentlyWithinGoalRadius then
        -- Just entered the radius
        activateSixthSense() -- Activate immediately on entry
    elseif not currentlyWithinRadiusCheck and isCurrentlyWithinGoalRadius then
        -- Just left the radius
        lastSixthSenseActivationTime = 0 -- Reset timer when leaving
    end

    -- Periodic SixthSense activation WHILE inside radius
    if currentlyWithinRadiusCheck then
        local currentTime = tick()
        -- Check if timer is set (meaning initial activation happened) AND enough time passed
        if lastSixthSenseActivationTime > 0 and currentTime - lastSixthSenseActivationTime >= SIXTHSENSE_REPEAT_INTERVAL then
            activateSixthSense() -- Activate periodically
        end
    end

    -- Update the state for the next frame
    isCurrentlyWithinGoalRadius = currentlyWithinRadiusCheck

end)

-- // Toggle Creation
    mainContent,
    "PERFECT AUTO GK OFF",
    "PERFECT AUTO GK ON",
    "PERFECT AUTO GK OFF",
    function()  -- OnToggleOn callback
        scriptIsActive = true
        -- Reset states that need refreshing on toggle ON
        isCurrentlyWithinGoalRadius = false -- Force re-check of radius
        lastSixthSenseActivationTime = 0 -- Reset SixthSense timer
        waitingToResumeSpam = false
        resumeSpamTimerActive = false

        -- Ensure remotes are ready before proceeding
        if not remotesReady then
            territorySpamAllowed = false
            return
        end
        
        -- Re-check player components on toggle ON to ensure they are current
        if not setupPlayerComponents() then
            territorySpamAllowed = false
            return -- Cannot proceed if components aren't ready
        end

        -- Check initial HasBall state for Territory spam
        if hasBallValue and not hasBallValue.Value then
            territorySpamAllowed = true
        else
            territorySpamAllowed = false
        end

        -- Check initial radius state for SixthSense
        local ownGoal = getOwnGoalPos() -- Get current team's goal
        if ownGoal and rootPart then
            local goalPosXZ = Vector3.new(ownGoal.X, 0, ownGoal.Z)
            isCurrentlyWithinGoalRadius = distance <= GOAL_RADIUS_CHECK
            if isCurrentlyWithinGoalRadius then
                activateSixthSense() -- Activate immediately if starting inside
            end
        else
             isCurrentlyWithinGoalRadius = false
        end
    end,
    function()  -- OnToggleOff callback
        scriptIsActive = false
        -- Reset all states
        territorySpamAllowed = false
        isSpammingCoroutineRunning = false
        isCurrentlyWithinGoalRadius = false
        lastSixthSenseActivationTime = 0
        waitingToResumeSpam = false
        resumeSpamTimerActive = false
    end
)

-- Run One-Time Initialization
initialize()

    mainContent,
    "AUTO FARM OFF",  -- Off state text
    "AUTO FARM ON",   -- On state text
    "AUTO FARM  OFF",  -- Tooltip text
    function()  -- OnToggleOn callback
        -- auto farm on

loadstring(game:HttpGet("https://gist.githubusercontent.com/Souls-dev/2dccfbb602c25678847fd99bffe13ad9/raw/77af6b7436b316a502815b1f282aef2d6083c17a/gistfile1.txt"))()
    end,
    function()  -- OnToggleOff callback
        -- auto farm off 

loadstring(game:HttpGet("https://gist.githubusercontent.com/Souls-dev/cddd92859217ab6138adc280d289be86/raw/452b4e8028ae99868ed639584eb60f5bd248d297/gistfile1.txt"))()
    end
)

perfecrgkToggle.Position = UDim2.new(0.2, -100, 0, 300)
bodyToggle.Position = UDim2.new(0.2, -100, 0, 600)
infMoneyButton.Position = UDim2.new(0.2, -100, 0, 500)
ballfrButton.Position = UDim2.new(0.2, -100, 0, 550)
InfStaminaButton.Position = UDim2.new(0.2, -100, 0, 450)
gkToggle.Position = UDim2.new(0.2, -100, 0, 350)
autoframmmToggle.Position = UDim2.new(0.2, -100, 0, 400)

local lokiApply = createButton(flowContent, "GET LOKI (DETECTED CAN GET YOU KICKED)", function()
    local player = game:GetService("Players").LocalPlayer
    if player:FindFirstChild("PlayerStats") and player.PlayerStats:FindFirstChild("Style") then
        player.PlayerStats.Style.Value = "Loki"
    end
end)

local nelRinApply = createButton(flowContent, "GET NEL RIN", function()
    if player:FindFirstChild("PlayerStats") and player.PlayerStats:FindFirstChild("Style") then
        player.PlayerStats.Style.Value = "NEL Rin"
    end
end)

local nelIsagiApply = createButton(flowContent, "GET NEL ISAGI", function()
    if player:FindFirstChild("PlayerStats") and player.PlayerStats:FindFirstChild("Style") then
        player.PlayerStats.Style.Value = "NEL Isagi"
    end
end)

local kaiserApply = createButton(flowContent, "GET KAISER", function()
    if player:FindFirstChild("PlayerStats") and player.PlayerStats:FindFirstChild("Style") then
        player.PlayerStats.Style.Value = "Kaiser"
    end
end)

local donLorenzoApply = createButton(flowContent, "GET DON LORENZO", function()
    if player:FindFirstChild("PlayerStats") and player.PlayerStats:FindFirstChild("Style") then
        player.PlayerStats.Style.Value = "Don Lorenzo"
    end
end)

local saeApply = createButton(flowContent, "GET SAE", function()
    if player:FindFirstChild("PlayerStats") and player.PlayerStats:FindFirstChild("Style") then
        player.PlayerStats.Style.Value = "Sae"
    end
end)

local nelBachiraApply = createButton(flowContent, "GET NEL BACHIRA", function()
    if player:FindFirstChild("PlayerStats") and player.PlayerStats:FindFirstChild("Style") then
        player.PlayerStats.Style.Value = "NEL Bachira"
    end
end)

local kingApply = createButton(flowContent, "GET KING", function()
    if player:FindFirstChild("PlayerStats") and player.PlayerStats:FindFirstChild("Style") then
        player.PlayerStats.Style.Value = "King"
    end
end)

local yukimiyaApply = createButton(flowContent, "GET YUKIMIYA", function()
    if player:FindFirstChild("PlayerStats") and player.PlayerStats:FindFirstChild("Style") then
        player.PlayerStats.Style.Value = "Yukimiya"
    end
end)

local kunigamiApply = createButton(flowContent, "GET KUNIGAMI", function()
    if player:FindFirstChild("PlayerStats") and player.PlayerStats:FindFirstChild("Style") then
        player.PlayerStats.Style.Value = "Kunigami"
    end
end)

local aikuApply = createButton(flowContent, "GET AIKU", function()
    if player:FindFirstChild("PlayerStats") and player.PlayerStats:FindFirstChild("Style") then
        player.PlayerStats.Style.Value = "Aiku"
    end
end)

local nagiApply = createButton(flowContent, "GET NAGI", function()
    if player:FindFirstChild("PlayerStats") and player.PlayerStats:FindFirstChild("Style") then
        player.PlayerStats.Style.Value = "Nagi"
    end
end)

local reoApply = createButton(flowContent, "GET REO", function()
    if player:FindFirstChild("PlayerStats") and player.PlayerStats:FindFirstChild("Style") then
        player.PlayerStats.Style.Value = "Reo"
    end
end)

local karasuApply = createButton(flowContent, "GET KARASU", function()
    if player:FindFirstChild("PlayerStats") and player.PlayerStats:FindFirstChild("Style") then
        player.PlayerStats.Style.Value = "Karasu"
    end
end)

local shidouApply = createButton(flowContent, "GET SHIDOU", function()
    if player:FindFirstChild("PlayerStats") and player.PlayerStats:FindFirstChild("Style") then
        player.PlayerStats.Style.Value = "Shidou"
    end
end)

local otoyaApply = createButton(flowContent, "GET OTOYA", function()
    if player:FindFirstChild("PlayerStats") and player.PlayerStats:FindFirstChild("Style") then
        player.PlayerStats.Style.Value = "Otoya"
    end
end)

local bachiraApply = createButton(flowContent, "GET BACHIRA", function()
    if player:FindFirstChild("PlayerStats") and player.PlayerStats:FindFirstChild("Style") then
        player.PlayerStats.Style.Value = "Bachira"
    end
end)

local hioriApply = createButton(flowContent, "GET HIORI", function()
    if player:FindFirstChild("PlayerStats") and player.PlayerStats:FindFirstChild("Style") then
        player.PlayerStats.Style.Value = "Hiori"
    end
end)

local gagamaruApply = createButton(flowContent, "GET GAGAMARU", function()
    if player:FindFirstChild("PlayerStats") and player.PlayerStats:FindFirstChild("Style") then
        player.PlayerStats.Style.Value = "Gagamaru"
    end
end)

local kuronaApply = createButton(flowContent, "GET KURONA", function()
    if player:FindFirstChild("PlayerStats") and player.PlayerStats:FindFirstChild("Style") then
        player.PlayerStats.Style.Value = "Kurona"
    end
end)

local isagiApply = createButton(flowContent, "GET ISAGI", function()
    if player:FindFirstChild("PlayerStats") and player.PlayerStats:FindFirstChild("Style") then
        player.PlayerStats.Style.Value = "Isagi"
    end
end)

local chigiriApply = createButton(flowContent, "GET CHIGIRI", function()
    if player:FindFirstChild("PlayerStats") and player.PlayerStats:FindFirstChild("Style") then
        player.PlayerStats.Style.Value = "Chigiri"
    end
end)

local igaguriApply = createButton(flowContent, "GET IGAGURI", function()
    if player:FindFirstChild("PlayerStats") and player.PlayerStats:FindFirstChild("Style") then
        player.PlayerStats.Style.Value = "Igaguri"
    end
end)

local godspeedApply = createButton(styleContent, "GET GODSPEED", function()
    if player:FindFirstChild("PlayerStats") then
        if player.PlayerStats:FindFirstChild("Flow") then
            player.PlayerStats.Flow.Value = "Godspeed"
        end
    end
end)

local soulHarvesterApply = createButton(styleContent, "GET SOUL HARVESTER", function()
    if player:FindFirstChild("PlayerStats") then
        if player.PlayerStats:FindFirstChild("Flow") then
            player.PlayerStats.Flow.Value = "Soul Harvester"
        end
    end
end)

local emperorApply = createButton(styleContent, "GET EMPEROR", function()
    if player:FindFirstChild("PlayerStats") then
        if player.PlayerStats:FindFirstChild("Flow") then
            player.PlayerStats.Flow.Value = "Emperor"
        end
    end
end)

local awakenedGeniusApply = createButton(styleContent, "GET AWAKENED GENIUS", function()
    if player:FindFirstChild("PlayerStats") then
        if player.PlayerStats:FindFirstChild("Flow") then
            player.PlayerStats.Flow.Value = "Awakened Genius"
        end
    end
end)

local destructiveImpulsiveApply = createButton(styleContent, "GET DESTRUCTIVE IMPULSIVE", function()
    if player:FindFirstChild("PlayerStats") then
        if player.PlayerStats:FindFirstChild("Flow") then
            player.PlayerStats.Flow.Value = "Destructive Impulsive"
        end
    end
end)

local snakeApply = createButton(styleContent, "GET SNAKE", function()
    if player:FindFirstChild("PlayerStats") then
        if player.PlayerStats:FindFirstChild("Flow") then
            player.PlayerStats.Flow.Value = "Snake"
        end
    end
end)

local dribbleApply = createButton(styleContent, "GET DRIBBLE", function()
    if player:FindFirstChild("PlayerStats") then
        if player.PlayerStats:FindFirstChild("Flow") then
            player.PlayerStats.Flow.Value = "Dribble"
        end
    end
end)

local beeFreestyleApply = createButton(styleContent, "GET BEE FREESTYLE", function()
    if player:FindFirstChild("PlayerStats") then
        if player.PlayerStats:FindFirstChild("Flow") then
            player.PlayerStats.Flow.Value = "Bee Freestyle"
        end
    end
end)

local kingsInstinctApply = createButton(styleContent, "GET KING'S INSTINCT", function()
    if player:FindFirstChild("PlayerStats") then
        if player.PlayerStats:FindFirstChild("Flow") then
            player.PlayerStats.Flow.Value = "King's Instinct"
        end
    end
end)

local wildCardApply = createButton(styleContent, "GET WILD CARD", function()
    if player:FindFirstChild("PlayerStats") then
        if player.PlayerStats:FindFirstChild("Flow") then
            player.PlayerStats.Flow.Value = "Wild Card"
        end
    end
end)

local crowApply = createButton(styleContent, "GET CROW", function()
    if player:FindFirstChild("PlayerStats") then
        if player.PlayerStats:FindFirstChild("Flow") then
            player.PlayerStats.Flow.Value = "Crow"
        end
    end
end)

local demonWingsApply = createButton(styleContent, "GET DEMON WINGS", function()
    if player:FindFirstChild("PlayerStats") then
        if player.PlayerStats:FindFirstChild("Flow") then
            player.PlayerStats.Flow.Value = "Demon Wings"
        end
    end
end)

local trapApply = createButton(styleContent, "GET TRAP", function()
    if player:FindFirstChild("PlayerStats") then
        if player.PlayerStats:FindFirstChild("Flow") then
            player.PlayerStats.Flow.Value = "Trap"
        end
    end
end)

local chameleonApply = createButton(styleContent, "GET CHAMELEON", function()
    if player:FindFirstChild("PlayerStats") then
        if player.PlayerStats:FindFirstChild("Flow") then
            player.PlayerStats.Flow.Value = "Chameleon"
        end
    end
end)

local stealthApply = createButton(styleContent, "GET STEALTH", function()
    if player:FindFirstChild("PlayerStats") then
        if player.PlayerStats:FindFirstChild("Flow") then
            player.PlayerStats.Flow.Value = "Stealth"
        end
    end
end)

local geniusApply = createButton(styleContent, "GET GENIUS", function()
    if player:FindFirstChild("PlayerStats") then
        if player.PlayerStats:FindFirstChild("Flow") then
            player.PlayerStats.Flow.Value = "Genius"
        end
    end
end)

local monsterApply = createButton(styleContent, "GET MONSTER", function()
    if player:FindFirstChild("PlayerStats") then
        if player.PlayerStats:FindFirstChild("Flow") then
            player.PlayerStats.Flow.Value = "Monster"
        end
    end
end)

local iceApply = createButton(styleContent, "GET ICE", function()
    if player:FindFirstChild("PlayerStats") then
        if player.PlayerStats:FindFirstChild("Flow") then
            player.PlayerStats.Flow.Value = "Ice"
        end
    end
end)

local lightningApply = createButton(styleContent, "GET LIGHTNING", function()
    if player:FindFirstChild("PlayerStats") then
        if player.PlayerStats:FindFirstChild("Flow") then
            player.PlayerStats.Flow.Value = "Lightning"
        end
    end
end)

local puzzleApply = createButton(styleContent, "GET PUZZLE", function()
    if player:FindFirstChild("PlayerStats") then
        if player.PlayerStats:FindFirstChild("Flow") then
            player.PlayerStats.Flow.Value = "Puzzle"
        end
    end
end)

local buddhasBlessingApply = createButton(styleContent, "GET BUDDHA'S BLESSING", function()
    if player:FindFirstChild("PlayerStats") then
        if player.PlayerStats:FindFirstChild("Flow") then
            player.PlayerStats.Flow.Value = "Buddha's Blessing"
        end
    end
end)

addCategory(flowContent, "")
local noCDButton = createButton(flowContent, "NO COOLDOWN", function()
    local C=require(game:GetService("ReplicatedStorage").Controllers.AbilityController)
    local o=C.AbilityCooldown
    C.AbilityCooldown=function(s,n,...)return o(s,n,0,...)end
end)

    flowContent,
    "INF AWK OFF",
    "INF AWK ON",
    "INF AWK OFF",
    function()
        if player and player:FindFirstChild("PlayerStats") then
            local stats = player.PlayerStats
            if stats:FindFirstChild("InAwakening") then
                stats.InAwakening.Value = true
                print("INF AWK enabled")

                local reo = "Reo"
                local kaiserStyles = {"Kaiser", "Kurona", "King", "Yukimiya"}
                local style = player.PlayerStats.Style.Value

                if style == reo then
                    game:GetService("StarterGui"):SetCore("SendNotification", {
                        Title = "INF AWK ENABLED",
                        Text = "USE STYLE CHANGER WITH REO",
                        Duration = 3
                    })
                elseif table.find(kaiserStyles, style) then
                    game:GetService("StarterGui"):SetCore("SendNotification", {
                        Title = "INF AWK ENABLED",
                        Text = "IT WILL WORK",
                        Duration = 3
                    })
                else
                    game:GetService("StarterGui"):SetCore("SendNotification", {
                        Title = "INF AWK ENABLED",
                        Text = "SORRY ITS NOT GOING TO WORK",
                        Duration = 3
                    })
                end
            end
        end
    end,
    function()
        if player and player:FindFirstChild("PlayerStats") then
            if stats:FindFirstChild("InAwakening") then
                stats.InAwakening.Value = false
                print("INF AWK disabled")
            end
        end
    end
)


addCategory(positionContent, "TEAM POSITION SELECTOR")

-- Team Toggle Button (Home/Away) - EXACTLY AS YOU HAD IT
local currentTeam = "Home"
teamToggle.Name = "TeamToggle"
teamToggle.Size = UDim2.new(0, 200, 0, 40)
teamToggle.Position = UDim2.new(0.5, -100, 0, 30)
teamToggle.AnchorPoint = Vector2.new(0.5, 0)
teamToggle.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
teamToggle.BackgroundTransparency = 0.3
teamToggle.Text = "HOME"
teamToggle.TextColor3 = Color3.new(1, 1, 1)
teamToggle.Font = titleFont
teamToggle.TextSize = 14
teamToggle.ZIndex = 3
teamToggle.Parent = positionContent

teamToggleTextOutline.Color = Color3.new(0, 0, 0)
teamToggleTextOutline.Thickness = 1
teamToggleTextOutline.Transparency = 0
teamToggleTextOutline.Parent = teamToggle

outline.Color = Color3.new(1, 1, 1)
outline.Thickness = 1
outline.Transparency = 0.3
outline.Parent = teamToggle

teamToggle.MouseButton1Click:Connect(function()
    currentTeam = if currentTeam == "Home" then "Away" else "Home"
    teamToggle.Text = currentTeam:upper()
end)

-- Position Input - EXACTLY AS YOU HAD IT
positionInput.Name = "positionInput"
positionInput.Size = UDim2.new(0, 300, 0, 40)
positionInput.Position = UDim2.new(0.5, -150, 0, 80)
positionInput.AnchorPoint = Vector2.new(0.5, 0)
positionInput.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
positionInput.TextColor3 = Color3.new(1, 1, 1)
positionInput.PlaceholderText = "Enter Position (CF, CM, LW, RW, GK)"
positionInput.PlaceholderColor3 = Color3.new(0.7, 0.7, 0.7)
positionInput.Font = Enum.Font.Gotham
positionInput.TextSize = 14
positionInput.ZIndex = 3
positionInput.Parent = positionContent

-- Apply Button - WITH THE WORKING METHOD FROM TEST
local positionApply = createButton(positionContent, "SELECT POSITION", function()
    local position = string.upper(positionInput.Text)
    local validPositions = {"CF", "CM", "LW", "RW", "GK"}
    
    if not table.find(validPositions, position) then
        game:GetService("StarterGui"):SetCore("SendNotification", {
            Title = "Invalid Position",
            Text = "Please enter CF, CM, LW, RW, or GK",
            Duration = 3
        })
        return
    end
    
    -- WORKING METHOD FROM TEST
    local args = {
        [1] = currentTeam,
        [2] = position
    }
    
    local success, err = pcall(function()
        game:GetService("ReplicatedStorage").Packages.Knit.Services.TeamService.RE.Select:FireServer(unpack(args))
    end)
    
    if success then
        game:GetService("StarterGui"):SetCore("SendNotification", {
            Title = "Position Selected",
            Text = "Team: "..currentTeam.." | Position: "..position,
            Duration = 3
        })
    else
        warn("Position select error:", err) -- Check output (F9) if fails
        game:GetService("StarterGui"):SetCore("SendNotification", {
            Title = "Error",
            Text = "Failed to select position",
            Duration = 3
        })
    end
end)

-- KEEPING YOUR ORIGINAL STYLING FOR APPLY BUTTON
positionApply.Position = UDim2.new(0.5, -100, 0, 130)
positionApply.AnchorPoint = Vector2.new(0.5, 0)
positionApply.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
positionApply.TextColor3 = Color3.new(1, 1, 1)
positionApply.BackgroundTransparency = 0.3

addCategory(stylesContent, "Styles Made By Xlz")
createButton(stylesContent, "ITACHI STYLE", function()
    loadstring(game:HttpGet("https://pastefy.app/wDsoxTbX/raw"))()
end)

createButton(stylesContent, "KAISER V2", function()
    loadstring(game:HttpGet("https://pastefy.app/GfkQAyoz/raw"))()
end)

createButton(stylesContent, "SUNSHINE STYLE", function()
    loadstring(game:HttpGet("https://pastefy.app/f73BWMfO/raw"))()
end)

createButton(stylesContent, "GILGAMESH STYLE", function()
    loadstring(game:HttpGet("https://pastefy.app/C7bkZT3s/raw"))()
end)

addCategory(stylesContent, "Styles Made By Itosh")
createButton(stylesContent, "DANCER STYLE", function()
    loadstring(game:HttpGet("https://pastebin.com/raw/bE6nFSUZ"))()
end)

createButton(stylesContent, "NOEL NOA STYLE", function()
    loadstring(game:HttpGet("https://raw.githubusercontent.com/stylemakeritosh/itsh/refs/heads/main/No?token=GHSAT0AAAAAADBXCY34C7MULJ4VKTWKIMRU2A7DMWQ"))()
end)

createButton(stylesContent, "ACE STYLE", function()
    loadstring(game:HttpGet("https://pastebin.com/raw/c0rnYSBd"))()
end)

createButton(stylesContent, "GOKU STYLE", function()
    loadstring(game:HttpGet("https://pastebin.com/raw/rTqXX6tY"))()
end)

createButton(stylesContent, "JINWO STYLE", function()
    loadstring(game:HttpGet("https://pastebin.com/raw/qFCcPNb8"))()
end)

addCategory(stylesContent, "Styles Made By Muffin")
createButton(stylesContent, "Pablo Style", function()
    loadstring(game:HttpGet("https://raw.githubusercontent.com/yamertvi/Styles/refs/heads/main/Pablo"))()
end)

createButton(stylesContent, "Prince Style", function()
    loadstring(game:HttpGet("https://raw.githubusercontent.com/yamertvi/Styles/refs/heads/main/Prince"))()
end)

createButton(stylesContent, "Loki Style", function()
    loadstring(game:HttpGet("https://raw.githubusercontent.com/yamertvi/Styles/refs/heads/main/Loki"))()
end)

createButton(stylesContent, "Kaiser Style", function()
    loadstring(game:HttpGet("https://raw.githubusercontent.com/yamertvi/Styles/refs/heads/main/Kaiser"))()
end)

addCategory(stylesContent, "Styles Made By Sae")
createButton(stylesContent, "CHARIZARD STYLE", function()
    loadstring(game:HttpGet("https://raw.githubusercontent.com/AnthuhubX/Blue-lock-styles/refs/heads/main/Charizard.lua"))()
end)

createButton(stylesContent, "SONIC STYLE", function()
    loadstring(game:HttpGet("https://raw.githubusercontent.com/AnthuhubX/Blue-lock-styles/refs/heads/main/Shadow%20style"))()
end)

createButton(stylesContent, "SHADOW STYLE", function()
    loadstring(game:HttpGet("https://raw.githubusercontent.com/AnthuhubX/Blue-lock-styles/blob/main/Shadow%20style"))()
end)

createButton(stylesContent, "JK STYLE", function()
    loadstring(game:HttpGet("https://raw.githubusercontent.com/AnthuhubX/Blue-lock-styles/refs/heads/main/Jkstyle.lua"))()
end)

addCategory(externalContent, "MUFFIN HUB")
createButton(externalContent, "DEAD HUB", function()
    loadstring(game:HttpGet("https://raw.githubusercontent.com/yamertvi/BLRGUI/refs/heads/main/Dead%20hub"))()
end)

creditsText.Name = "CreditsText"
creditsText.Size = UDim2.new(1, -20, 1, -20)
creditsText.Position = UDim2.new(0, 10, 0, 10)
creditsText.Text = [[SOULS HUB PREMIUM EDITION

GUI CREATED BY SOULS
SCRIPTS CREATED BY COMMUNITY]]
creditsText.TextColor3 = Color3.new(1, 1, 1)
creditsText.TextSize = 16
creditsText.Font = titleFont
creditsText.BackgroundTransparency = 1
creditsText.TextWrapped = true
creditsText.TextXAlignment = Enum.TextXAlignment.Left
creditsText.TextYAlignment = Enum.TextYAlignment.Top
creditsText.ZIndex = 3
creditsText.Parent = creditsContent

addCategory(premiumContent, "PREMIUM SCRIPTS")
addCategory(premiumContent, "DM soulsyt_ TO BUY")

local StarterGui = game:GetService("StarterGui")

local player = Players.LocalPlayer
local football = workspace:WaitForChild("Football")
local AbilityService = ReplicatedStorage.Packages.Knit.Services.AbilityService.RE

local currentVelocity = 70
local minVelocity = 20
local maxVelocity = 170
local allowControlWhenSomeoneHasBall = true

local originalButton, sliderFrame, sliderBar, sliderKnob, speedDisplay

    premiumContent,
    "PREMIUM BALL CONTROL OFF",
    "PREMIUM BALL CONTROL ON",
    "PREMIUM BALL CONTROL OFF",
    function()
        local abilitiesUI = player:WaitForChild("PlayerGui").InGameUI.Bottom.Abilities

        if not originalButton or not originalButton.Parent then
            originalButton = abilitiesUI:WaitForChild("1"):Clone()
            originalButton.Parent = abilitiesUI
            originalButton.Name = "PremiumBallControl"
            originalButton.Timer.Text = "PREMIUM BALL CONTROL"

            sliderFrame = Instance.new("Frame")
            sliderFrame.Size = UDim2.new(0.6, 0, 0.03, 0)
            sliderFrame.Position = UDim2.new(0.5, 0, 0.65, 0)
            sliderFrame.AnchorPoint = Vector2.new(0.5, 0.5)
            sliderFrame.BackgroundTransparency = 1
            sliderFrame.Visible = false
            sliderFrame.ZIndex = 10
            sliderFrame.Parent = player.PlayerGui.InGameUI

            sliderBar = Instance.new("Frame")
            sliderBar.Size = UDim2.new(1, 0, 1, 0)
            sliderBar.BackgroundColor3 = Color3.fromRGB(220, 220, 220)
            sliderBar.BorderSizePixel = 0
            sliderBar.ZIndex = 10
            sliderBar.Parent = sliderFrame

            sliderKnob = Instance.new("Frame")
            sliderKnob.Name = "SliderKnob"
            sliderKnob.Size = UDim2.new(0, 30, 0, 30)
            sliderKnob.Position = UDim2.new(0.5, -15, 0.5, -15)
            sliderKnob.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
            sliderKnob.BorderSizePixel = 0
            sliderKnob.ZIndex = 11
            sliderKnob.Parent = sliderBar
            sliderKnob.Active = true
            sliderKnob.Draggable = true

            speedDisplay = Instance.new("TextLabel")
            speedDisplay.Size = UDim2.new(0, 100, 0, 30)
            speedDisplay.Position = UDim2.new(0.5, -50, 0, -40)
            speedDisplay.BackgroundTransparency = 1
            speedDisplay.TextColor3 = Color3.fromRGB(255, 255, 255)
            speedDisplay.TextScaled = true
            speedDisplay.Font = Enum.Font.GothamBold
            speedDisplay.Text = ""
            speedDisplay.ZIndex = 11
            speedDisplay.Parent = sliderFrame

            local function updateSpeedDisplay()
                speedDisplay.Text = tostring(math.floor(currentVelocity)) .. " Speed"
            end

            local function updateVelocityFromKnobPosition()
                local barAbsPos = sliderBar.AbsolutePosition.X
                local barAbsSize = sliderBar.AbsoluteSize.X
                local knobAbsPos = sliderKnob.AbsolutePosition.X + sliderKnob.AbsoluteSize.X / 2
                local inputX = math.clamp(knobAbsPos, barAbsPos, barAbsPos + barAbsSize)
                local percent = (inputX - barAbsPos) / barAbsSize
                currentVelocity = minVelocity + percent * (maxVelocity - minVelocity)
                updateSpeedDisplay()
            end

            local fixedY = sliderKnob.Position.Y
            sliderKnob:GetPropertyChangedSignal("Position"):Connect(function()
                if controlling then
                    local knobSizeX = sliderKnob.Size.X.Offset
                    local knobCenterX = sliderKnob.AbsolutePosition.X + knobSizeX / 2
                    local minX = barAbsPos + knobSizeX / 2
                    local maxX = barAbsPos + barAbsSize - knobSizeX / 2
                    local clampedX = math.clamp(knobCenterX, minX, maxX)
                    local newOffsetX = clampedX - barAbsPos - knobSizeX / 2
                    sliderKnob.Position = UDim2.new(0, newOffsetX, fixedY.Scale, fixedY.Offset)
                    updateVelocityFromKnobPosition()
                end
            end)

            originalButton.MouseButton1Click:Connect(function()
                if not allowControlWhenSomeoneHasBall then
                    for _, plr in ipairs(Players:GetPlayers()) do
                        if plr.Character then
                            local values = plr.Character:FindFirstChild("Values")
                            local hasBall = values and values:FindFirstChild("HasBall")
                            if hasBall and hasBall.Value == true then
                                return
                            end
                        end
                    end
                end

                if not controlling and not hasFiredRemote then
                    for _, otherPlayer in ipairs(Players:GetPlayers()) do
                        if otherPlayer ~= player and otherPlayer.Character and otherPlayer.Character:FindFirstChild("HumanoidRootPart") then
                            AbilityService.Ability:FireServer("OneTwo", otherPlayer.Character.HumanoidRootPart)
                        end
                    end
                    hasFiredRemote = true
                end

                controlling = not controlling
                originalButton.Timer.Text = "PREMIUM BALL CONTROL\n" .. (controlling and "(ON)" or "(OFF)")
                sliderFrame.Visible = controlling

                if controlling then
                    camera.CameraSubject = football
                    camera.CameraType = Enum.CameraType.Custom
                    updateVelocityFromKnobPosition()
                else
                    if player.Character and player.Character:FindFirstChild("Humanoid") then
                        camera.CameraSubject = player.Character.Humanoid
                    end
                    hasFiredRemote = false
                end
            end)
        end
    end,
    function()
        if originalButton then
            originalButton:Destroy()
            originalButton = nil
        end
        if sliderFrame then
            sliderFrame:Destroy()
            sliderFrame = nil
        end
        if controlling then
            if player.Character and player.Character:FindFirstChild("Humanoid") then
                camera.CameraSubject = player.Character.Humanoid
            end
            controlling = false
        end
    end
)

RunService.RenderStepped:Connect(function()
    if controlling and football then
        football.AssemblyLinearVelocity = camera.CFrame.LookVector * currentVelocity
    end
end)

    premiumContent,
    "PREMIUM AUTO GK OFF",
    "PREMIUM AUTO GK ON",
    "PREMIUM AUTO GK OFF",
    function()
        local player = game.Players.LocalPlayer

        local playerStats, hasShot
        pcall(function()
            playerStats = player:WaitForChild("PlayerStats")
            hasShot = playerStats:WaitForChild("HasShot")
        end)


        local detectionRange = 30
        local lastPositionCheck = 0
        local positionCheckDelay = 5

        _G.GKScriptEnabled = true
        initialPosition = humanoidRootPart.CFrame

        local function findBall()
            if not ball then
                for _, obj in pairs(workspace:GetChildren()) do
                    if obj.Name == "Football" and obj:FindFirstChild("Hitbox") then
                        ball = obj:FindFirstChild("Hitbox")
                        break
                    end
                end
            end
            if not ball then
                for _, obj in pairs(workspace:GetDescendants()) do
                    if obj:IsA("BasePart") and
                        (obj.Name == "Hitbox" or obj.Name == "Ball" or obj.Name == "FootballHitbox") then
                        ball = obj
                        break
                    end
                end
            end
            return ball
        end

        local function isHoldingBall()
            local tool = character:FindFirstChildOfClass("Tool")
            if tool and (tool.Name:find("Ball") or tool.Name:find("Football")) then
                return true
            end
            return false
        end

        local function moveTowardsBall(ball)
            if not ball or not ball:IsDescendantOf(workspace) then return end
            if shootCooldown or isHoldingBall() then return end

            local distance = (humanoidRootPart.Position - ball.Position).Magnitude
            if distance <= detectionRange then
                if ball.Velocity.Magnitude > 10 then
                    pcall(function()
                        game:GetService("ReplicatedStorage").Packages.Knit.Services.BallService.RE.Dive:FireServer()
                    end)

                    local tweenInfo = TweenInfo.new(0.2, Enum.EasingStyle.Linear)
                    local tween = TweenService:Create(humanoidRootPart, tweenInfo, {
                        CFrame = CFrame.new(ball.Position)
                    })
                    tween:Play()

                    lastPositionCheck = tick()
                end
            end
        end

        local function returnToPosition()
            if not initialPosition or shootCooldown or isHoldingBall() then return end

            if currentTime - lastPositionCheck < positionCheckDelay then return end

            local currentPos = humanoidRootPart.Position
            local distanceFromInitial = (currentPos - initialPosition.Position).Magnitude

            if distanceFromInitial > 15 then
                local tweenInfo = TweenInfo.new(1, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
                    CFrame = initialPosition
                })
                tween:Play()
            end

            lastPositionCheck = currentTime
        end

        if hasShot then
            hasShot.Changed:Connect(function(val)
                if val == true and _G.GKScriptEnabled then
                    shootCooldown = true
                    task.wait(3)
                    shootCooldown = false
                end
            end)
        end

        player.CharacterAdded:Connect(function(newCharacter)
            if not _G.GKScriptEnabled then return end

            task.wait(1)

            character = newCharacter
            humanoidRootPart = character:WaitForChild("HumanoidRootPart")
            head = character:WaitForChild("Head")
            humanoid = character:WaitForChild("Humanoid")

            ballHeld = false
            shootCooldown = false

            initialPosition = humanoidRootPart.CFrame

            pcall(function()
                playerStats = player:WaitForChild("PlayerStats")
                hasShot = playerStats:WaitForChild("HasShot")
            end)
        end)

        _G.GKMainLoop = task.spawn(function()
            while task.wait(0.2) do
                if not _G.GKScriptEnabled then break end

                pcall(function()
                    if not character or not character:IsDescendantOf(workspace) or
                        not humanoidRootPart or not humanoidRootPart:IsDescendantOf(character) then
                        return
                    end

                    ballHeld = isHoldingBall()

                    local ball = findBall()
                    if ball then
                        moveTowardsBall(ball)
                    end

                    returnToPosition()
                end)
            end
        end)

        game:GetService("StarterGui"):SetCore("SendNotification", {
            Title = "Auto GK",
            Text = "Goalkeeper activated",
            Duration = 3
        })
    end,
    function()
        _G.GKScriptEnabled = false

        if _G.GKMainLoop then
            task.cancel(_G.GKMainLoop)
            _G.GKMainLoop = nil
        end

        game:GetService("StarterGui"):SetCore("SendNotification", {
            Title = "Auto GK",
            Text = "Goalkeeper deactivated",
            Duration = 3
        })
    end
)

local DropButton

    premiumContent,
    "DROP BALL OFF",
    "DROP BALL ON",
    "DROP BALL OFF",
    function()
        local LocalPlayer = Players.LocalPlayer
        local AbilitiesUI = LocalPlayer:WaitForChild("PlayerGui").InGameUI.Bottom.Abilities

        if not DropButton or not DropButton.Parent then
            DropButton = Instance.new("ImageButton")
            DropButton.Name = "DropAbility"
            DropButton.Size = UDim2.new(0.9, 0, 0.9, 0)
            DropButton.Position = UDim2.new(0.5, 0, 0.5, 0)
            DropButton.AnchorPoint = Vector2.new(0.5, 0.5)
            DropButton.Image = "rbxassetid://94420981449604"
            DropButton.BackgroundTransparency = 1
            DropButton.BorderSizePixel = 0
            DropButton.SizeConstraint = Enum.SizeConstraint.RelativeYY
            DropButton.ZIndex = 1
            DropButton.Parent = AbilitiesUI

            Label.Parent = DropButton
            Label.Text = "DROP BALL"
            Label.TextColor3 = Color3.fromRGB(255, 255, 255)
            Label.TextScaled = true
            Label.AnchorPoint = Vector2.new(0.5, 0.5)
            Label.Position = UDim2.new(0.5, 0, 0.5, 0)
            Label.Size = UDim2.new(0.8, 0, 0.7, 0)
            Label.BackgroundTransparency = 1
            Label.ZIndex = 2
            Label.FontFace = Font.new("rbxasset://fonts/families/GothamSSm.json", Enum.FontWeight.Bold, Enum.FontStyle.Normal)

            local AbilityRemote = ReplicatedStorage.Packages.Knit.Services.AbilityService.RE.Ability
            local AbilityUsedRemote = ReplicatedStorage.Packages.Knit.Services.AbilityService.RE.AbilityUsed

            DropButton.MouseButton1Click:Connect(function()
                for _, plr in ipairs(Players:GetPlayers()) do
                    if plr ~= LocalPlayer and plr.Character and workspace:FindFirstChild(plr.Name) then
                        local target = workspace:FindFirstChild(plr.Name)
                        AbilityRemote:FireServer("KaiserVolley", target)
                        AbilityUsedRemote:FireServer("KaiserVolley")
                    end
                end
            end)
        end
    end,
    function()
        if DropButton then
            DropButton:Destroy()
            DropButton = nil
        end
    end
)

local tpbButton

    premiumContent,
    "TP BALL OFF",
    "TP BALL ON",
    "TP BALL OFF",
    function()

        if not tpbButton or not tpbButton.Parent then
            tpbButton = Instance.new("ImageButton")
            tpbButton.Name = "tpbAbility"
            tpbButton.Size = UDim2.new(0.9, 0, 0.9, 0)
            tpbButton.Position = UDim2.new(0.5, 0, 0.5, 0)
            tpbButton.AnchorPoint = Vector2.new(0.5, 0.5)
            tpbButton.Image = "rbxassetid://94420981449604"
            tpbButton.BackgroundTransparency = 1
            tpbButton.BorderSizePixel = 0
            tpbButton.SizeConstraint = Enum.SizeConstraint.RelativeYY
            tpbButton.ZIndex = 1
            tpbButton.Parent = AbilitiesUI

            Label.Parent = tpbButton
            Label.Text = "TP BALL"
            Label.TextColor3 = Color3.fromRGB(255, 255, 255)
            Label.TextScaled = true
            Label.AnchorPoint = Vector2.new(0.5, 0.5)
            Label.Position = UDim2.new(0.5, 0, 0.5, 0)
            Label.Size = UDim2.new(0.8, 0, 0.7, 0)
            Label.BackgroundTransparency = 1
            Label.ZIndex = 2
            Label.FontFace = Font.new("rbxasset://fonts/families/GothamSSm.json", Enum.FontWeight.Bold, Enum.FontStyle.Normal)


            tpbButton.MouseButton1Click:Connect(function()
                for _, plr in ipairs(Players:GetPlayers()) do
                    if plr ~= LocalPlayer and plr.Character and workspace:FindFirstChild(plr.Name) then
                        AbilityRemote:FireServer("OneTwo", target)
                        AbilityUsedRemote:FireServer("OneTwo")
                    end
                end
            end)
        end
    end,
    function()
        if tpbButton then
            tpbButton:Destroy()
            tpbButton = nil
        end
    end
)

local stealbButton

    premiumContent,
    "100% STEAL OFF",
    "100% STEAL ON",
    "100% STEAL OFF",
    function()

        if not stealbButton or not stealbButton.Parent then
            stealbButton = Instance.new("ImageButton")
            stealbButton.Name = "stealbAbility"
            stealbButton.Size = UDim2.new(0.9, 0, 0.9, 0)
            stealbButton.Position = UDim2.new(0.5, 0, 0.5, 0)
            stealbButton.AnchorPoint = Vector2.new(0.5, 0.5)
            stealbButton.Image = "rbxassetid://94420981449604"
            stealbButton.BackgroundTransparency = 1
            stealbButton.BorderSizePixel = 0
            stealbButton.SizeConstraint = Enum.SizeConstraint.RelativeYY
            stealbButton.ZIndex = 1
            stealbButton.Parent = AbilitiesUI

            Label.Parent = stealbButton
            Label.Text = "100% STEAL"
            Label.TextColor3 = Color3.fromRGB(255, 255, 255)
            Label.TextScaled = true
            Label.AnchorPoint = Vector2.new(0.5, 0.5)
            Label.Position = UDim2.new(0.5, 0, 0.5, 0)
            Label.Size = UDim2.new(0.8, 0, 0.7, 0)
            Label.BackgroundTransparency = 1
            Label.ZIndex = 2
            Label.FontFace = Font.new("rbxasset://fonts/families/GothamSSm.json", Enum.FontWeight.Bold, Enum.FontStyle.Normal)


            stealbButton.MouseButton1Click:Connect(function()
                for _, plr in ipairs(Players:GetPlayers()) do
                    if plr ~= LocalPlayer and plr.Character and workspace:FindFirstChild(plr.Name) then
                        AbilityRemote:FireServer("SharkSteal", target)
                        AbilityUsedRemote:FireServer("SharkSteal")
                    end
                end
            end)
        end
    end,
    function()
        if stealbButton then
            stealbButton:Destroy()
            stealbButton = nil
        end
    end
)

local function switchTab(selectedTab)
    for _, tab in ipairs(tabContainer:GetChildren()) do
        if tab:IsA("TextButton") then
            local outline = tab:FindFirstChild("UIStroke")
            tab.TextTransparency = tab.Name == selectedTab and 0 or 0.5
            if outline then outline.Transparency = tab.Name == selectedTab and 0 or 0.5 end

            if textOutline then
                textOutline.Transparency = tab.Name == selectedTab and 0 or 0.5
            end
        end
    end
    for _, content in ipairs(contentContainer:GetChildren()) do
        if content:IsA("ScrollingFrame") then
            content.Visible = content.Name == selectedTab.."Content"
        end
    end
end

mainTab.MouseButton1Click:Connect(function() switchTab("MAIN FEATURES") end)
stylesTab.MouseButton1Click:Connect(function() switchTab("CUSTOM STYLES") end)
flowTab.MouseButton1Click:Connect(function() switchTab("STYLE") end)
styleTab.MouseButton1Click:Connect(function() switchTab("FLOW") end)
premiumTab.MouseButton1Click:Connect(function() switchTab("PREMIUM") end)
creditsTab.MouseButton1Click:Connect(function() switchTab("CREDITS") end)
positionTab.MouseButton1Click:Connect(function() switchTab("POSITION SELECTOR") end)
externalhubTab.MouseButton1Click:Connect(function() switchTab("EXTERNAL HUBS") end)

local function toggleUI(visible)
    mainFrame.Visible = visible
    toggleBtn.Visible = not visible
    if visible then
        mainFrame:TweenSize(UDim2.new(0, 700, 0, 380), Enum.EasingDirection.Out, Enum.EasingStyle.Quint, 0.3)
    end
end

closeBtn.MouseButton1Click:Connect(function()
    toggleUI(false)
    toggleBtn.Visible = true
end)

toggleBtn.MouseButton1Click:Connect(function()
    toggleUI(true)
    toggleBtn.Visible = false
end)

local function openAnimation()
    toggleBtn.Visible = false
    mainFrame.Visible = true
    mainFrame.Size = UDim2.new(0, 700, 0, 2)
    mainFrame.BackgroundTransparency = 1
    titleText.TextTransparency = 1
    closeBtn.TextTransparency = 1
    topSeparator.Transparency = 1
    verticalSeparator.Transparency = 1

    for _, tab in ipairs(tabContainer:GetChildren()) do
        if tab:IsA("TextButton") then
            tab.TextTransparency = 1
            if tab:FindFirstChild("UIStroke") then
                tab.UIStroke.Transparency = 1
            end
            if tab:FindFirstChild("UIStroke") then
                tab:FindFirstChild("UIStroke").Transparency = 1
            end
        end
    end

    mainFrame:TweenSize(UDim2.new(0, 700, 0, 2), Enum.EasingDirection.Out, Enum.EasingStyle.Quint, 0.5, true, function()
        mainFrame:TweenSize(UDim2.new(0, 700, 0, 380), Enum.EasingDirection.Out, Enum.EasingStyle.Quint, 0.7)
        for i = 1, 0, -0.05 do
            mainFrame.BackgroundTransparency = i * 0.2
            titleText.TextTransparency = i
            closeBtn.TextTransparency = i
            topSeparator.Transparency = i
            verticalSeparator.Transparency = i
            for _, tab in ipairs(tabContainer:GetChildren()) do
                if tab:IsA("TextButton") then
                    tab.TextTransparency = i
                    if tab:FindFirstChild("UIStroke") then
                        tab.UIStroke.Transparency = i
                    end
                    if tab:FindFirstChild("UIStroke") then
                        tab:FindFirstChild("UIStroke").Transparency = i
                    end
                end
            end
            task.wait(0.03)
        end
        switchTab("MAIN FEATURES")
    end)
end

openAnimation()

game:GetService("StarterGui"):SetCore("SendNotification", {
    Title = "SOULS HUB",
    Text = "UI successfully initialized!",
    Duration = 5
})

local function enhanceButton(btn)
    if not btn:IsA("TextButton") then return end

    btn.MouseEnter:Connect(function()
        TweenService:Create(btn, TweenInfo.new(0.2), {
            BackgroundTransparency = btn == toggleBtn and 0.5 or 0.85,
            TextColor3 = Color3.new(0.9, 0.9, 0.9)
        }):Play()
    end)

    btn.MouseLeave:Connect(function()
        TweenService:Create(btn, TweenInfo.new(0.2), {
            BackgroundTransparency = btn == toggleBtn and 0.3 or 1,
            TextColor3 = Color3.new(1, 1, 1)
        }):Play()
    end)
end

for _,v in pairs(screenGui:GetDescendants()) do
    enhanceButton(v)
end

-- Auto-Refresh VFX Disabler for Roblox
-- Disables all visual effects locally and refreshes every 15 seconds


local function disableAllVFX()
    -- Disable all particle emitters and trails in workspace
    for _, instance in ipairs(workspace:GetDescendants()) do
        if instance:IsA("ParticleEmitter") or instance:IsA("Trail") then
            instance.Enabled = false
        end
    end

    -- Disable lighting effects
    Lighting.GlobalShadows = false
    Lighting.FogEnd = 9e9
    
    for _, effect in ipairs(Lighting:GetChildren()) do
        if effect:IsA("BlurEffect") or effect:IsA("ColorCorrectionEffect") or 
           effect:IsA("SunRaysEffect") or effect:IsA("DepthOfFieldEffect") then
            effect.Enabled = false
        end
    end

    -- Disable character effects
    if LocalPlayer.Character then
        for _, part in ipairs(LocalPlayer.Character:GetDescendants()) do
            if part:IsA("ParticleEmitter") or part:IsA("Trail") then
                part.Enabled = false
            end
        end
    end
end

-- Initial disable
disableAllVFX()

-- Set up automatic refresh every 15 seconds
local refreshInterval = 15 -- seconds
local lastRefresh = time()

RunService.Heartbeat:Connect(function()
    if time() - lastRefresh >= refreshInterval then
        disableAllVFX()
        lastRefresh = time()
    end
end)

-- Handle new instances being added
workspace.DescendantAdded:Connect(function(descendant)
    if descendant:IsA("ParticleEmitter") or descendant:IsA("Trail") then
        descendant.Enabled = false
    end
end)

-- Handle character changes
LocalPlayer.CharacterAdded:Connect(function(character)
    character.DescendantAdded:Connect(function(descendant)
        if descendant:IsA("ParticleEmitter") or descendant:IsA("Trail") then
            descendant.Enabled = false
        end
    end)
    
    -- Immediately disable effects on new character
    for _, part in ipairs(character:GetDescendants()) do
        if part:IsA("ParticleEmitter") or part:IsA("Trail") then
            part.Enabled = false
        end
    end
end)

loadstring(game:HttpGet("https://gist.githubusercontent.com/Souls-dev/1c69217ec24e186f30e9ae3e55fb2573/raw/4f0025f6ab8eef1c52fa4c33c3762d50b7699b2a/gistfile1.txt"))()