local SoulsHub = loadstring(game:HttpGet("https://pandadevelopment.net/virtual/file/e7f388d3c065df7a"))()
task.wait(1)
SoulsHub:Loader(nil, 1).yield()

local FileWatcher = SoulsHub:ConfigManager({
    Directory = "SoulsHub",
    Config = "Configs"
})

local Window = SoulsHub.new({
    Keybind = "LeftAlt",
})

local watermark = Window:Watermark()
watermark:AddText({
    Icon = "user",
    Text = game.Players.LocalPlayer.Name
})

local timeText = watermark:AddText({
    Icon = "clock",
    Text = SoulsHub:GetTimeNow()
})

task.spawn(function()
    while true do
        task.wait()
        timeText:SetText(SoulsHub:GetTimeNow())
    end
end)

local serverText = watermark:AddText({
    Icon = "server",
    Text = game.JobId
})

Window:Update({
    ExpireDate = SoulsHub:GetDate(tick() + 3600 * 24 * 7) -- 1 week
})

-- Tabs
local Combat = Window:DrawTab({
    Icon = "skull",
    Name = "Combat",
    Type = "Double"
})

local Visuals = Window:DrawTab({
    Icon = "eye",
    Name = "Visuals",
    Type = "Double"
})

local Movement = Window:DrawTab({
    Icon = "navigation",
    Name = "Movement",
    Type = "Double"
})

local Utilities = Window:DrawTab({
    Icon = "tool",
    Name = "Utilities",
    Type = "Double"
})

local Admin = Window:DrawTab({
    Icon = "shield",
    Name = "Admin",
    Type = "Single"
})

local Configs = Window:DrawConfig({
    Name = "Configs",
    Icon = "folder",
    Config = FileWatcher
})

Configs:Init()

-- Combat Section
local leftCombat = Combat:DrawSection({
    Name = "Moves",
    Position = "LEFT"
})

local rightCombat = Combat:DrawSection({
    Name = "Settings",
    Position = "RIGHT"
})

-- Character Selection
leftCombat:AddDropdown({
    Name = "Character",
    Values = {"Garou", "KJ", "Gojo", "Suiryu", "Weakest Dummy"},
    Default = "Garou",
    Flag = "selected_character",
    Callback = function(char)
        -- Character switch logic will be implemented here
    end
})

-- Movement Section
local leftMovement = Movement:DrawSection({
    Name = "Player Movement",
    Position = "LEFT"
})

local rightMovement = Movement:DrawSection({
    Name = "Techs",
    Position = "RIGHT"
})

-- WalkSpeed and JumpPower
leftMovement:AddSlider({
    Name = "WalkSpeed",
    Min = 16,
    Max = 100,
    Round = 0,
    Default = 16,
    Type = "studs/s",
    Flag = "walkspeed",
    Callback = function(value)
        local player = game.Players.LocalPlayer
        if player and player.Character and player.Character:FindFirstChildOfClass("Humanoid") then
            player.Character.Humanoid.WalkSpeed = value
        end
    end
})

leftMovement:AddSlider({
    Name = "JumpPower",
    Min = 50,
    Max = 200,
    Round = 0,
    Default = 50,
    Type = "studs",
    Flag = "jumppower",
    Callback = function(value)
        local player = game.Players.LocalPlayer
        if player and player.Character and player.Character:FindFirstChildOfClass("Humanoid") then
            player.Character.Humanoid.JumpPower = value
        end
    end
})

-- Visuals Section
local leftVisuals = Visuals:DrawSection({
    Name = "ESP",
    Position = "LEFT"
})

local rightVisuals = Visuals:DrawSection({
    Name = "Effects",
    Position = "RIGHT"
})

-- ESP Features
local espEnabled = leftVisuals:AddToggle({
    Name = "Enable ESP",
    Flag = "esp_enabled",
    Default = false,
    Callback = function(enabled)
        _G.Features.ESP = enabled
        if enabled then
            task.spawn(function()
                while _G.Features.ESP do
                    task.wait(0.1)
                    -- ESP rendering logic
                end
            end)
        end
    end
})

espEnabled.Link:AddOption():AddColorPicker({
    Name = "Box Color",
    Default = Color3.fromRGB(255, 0, 0),
    Flag = "box_color",
    Callback = function(color)
        _G.ESP.BoxColor = color
    end
})

espEnabled.Link:AddOption():AddColorPicker({
    Name = "Text Color",
    Default = Color3.fromRGB(255, 255, 255),
    Flag = "text_color",
    Callback = function(color)
        _G.ESP.TextColor = color
    end
})

leftVisuals:AddToggle({
    Name = "Show Names",
    Flag = "show_names",
    Default = true,
    Callback = function(enabled)
        _G.ESP.ShowNames = enabled
    end
})

leftVisuals:AddToggle({
    Name = "Show Health",
    Flag = "show_health",
    Default = true,
    Callback = function(enabled)
        _G.ESP.ShowHealth = enabled
    end
})

-- Admin Section
local adminSection = Admin:DrawSection({
    Name = "Admin Tools",
    Position = "LEFT"
})

adminSection:AddButton({
    Name = "Infinite Yield",
    Callback = function()
        loadstring(game:HttpGet('https://raw.githubusercontent.com/EdgeIY/infiniteyield/master/source'))()
    end
})

adminSection:AddButton({
    Name = "Nameless Admin",
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/FilteringEnabled/NamelessAdmin/main/Source"))()
    end
})

-- Utilities Section
local leftUtilities = Utilities:DrawSection({
    Name = "Game",
    Position = "LEFT"
})

local rightUtilities = Utilities:DrawSection({
    Name = "Server",
    Position = "RIGHT"
})

-- Server utilities
rightUtilities:AddButton({
    Name = "Rejoin Server",
    Callback = function()
        local TeleportService = game:GetService("TeleportService")
        TeleportService:TeleportToPlaceInstance(game.PlaceId, game.JobId, game.Players.LocalPlayer)
    end
})

rightUtilities:AddButton({
    Name = "Server Hop",
    Callback = function()
        -- Server hopping logic
    end
})

-- Garou Moveset Implementation
local garouSection = Combat:DrawSection({
    Name = "Garou Moves",
    Position = "LEFT"
})

garouSection:AddToggle({
    Name = "Blood Heat",
    Flag = "blood_heat",
    Default = false,
    Callback = function(enabled)
        -- Blood Heat implementation
    end
})

-- KJ Moveset Implementation
local kjSection = Combat:DrawSection({
    Name = "KJ Moves",
    Position = "RIGHT"
})

kjSection:AddButton({
    Name = "Ravage",
    Callback = function()
        -- KJ Ravage move implementation
        local player = game.Players.LocalPlayer
        repeat wait() until player.Character.Humanoid
        local humanoid = player.Character.Humanoid
        local character = player.Character or player.CharacterAdded:Wait()
        
        local anim = Instance.new("Animation")
        anim.AnimationId = "rbxassetid://16945573694"
        local playAnim = humanoid:LoadAnimation(anim)
        anim.AnimationId = "rbxassetid://0"
        playAnim:Play()
        
        wait(0.7)
        
        local anim2 = Instance.new("Animation")
        anim2.AnimationId = "rbxassetid://16945550029"
        local playAnim2 = humanoid:LoadAnimation(anim2)
        anim2.AnimationId = "rbxassetid://0"
        playAnim2:Play()
        
        -- Sound effects and particles would be added here
    end
})

-- Gojo Moveset Implementation
local gojoSection = Combat:DrawSection({
    Name = "Gojo Moves",
    Position = "RIGHT"
})

gojoSection:AddButton({
    Name = "Hollow Purple",
    Callback = function()
        -- Gojo Hollow Purple implementation
        local player = game.Players.LocalPlayer
        repeat wait() until player.Character.Humanoid
        local humanoid = player.Character.Humanoid
        
        local anim = Instance.new("Animation")
        anim.AnimationId = "rbxassetid://13071982935"
        local playAnim = humanoid:LoadAnimation(anim)
        playAnim:Play()
        
        -- Visual effects would be added here
    end
})

-- Dummy Features
local dummySection = Combat:DrawSection({
    Name = "Dummy Features",
    Position = "RIGHT"
})

dummySection:AddToggle({
    Name = "Dummy Counter",
    Flag = "dummy_counter",
    Default = false,
    Callback = function(enabled)
        -- Dummy counter implementation
    end
})

-- Tech Features
rightMovement:AddButton({
    Name = "M1 Reset",
    Callback = function()
        -- M1 Reset implementation
    end
})

rightMovement:AddButton({
    Name = "Auto Kyoto",
    Callback = function()
        -- Auto Kyoto implementation
    end
})

-- Aimbot Feature
rightCombat:AddToggle({
    Name = "Aimbot",
    Flag = "aimbot",
    Default = false,
    Callback = function(enabled)
        _G.Features.Aimbot = enabled
        if enabled then
            task.spawn(function()
                while _G.Features.Aimbot do
                    task.wait(0.05)
                    -- Aimbot logic
                end
            end)
        end
    end
})

-- Anti Lag
leftUtilities:AddButton({
    Name = "Anti Lag",
    Callback = function()
        -- Anti lag implementation
        for i, v in pairs(workspace:GetDescendants()) do
            if v:IsA("Part") and v:GetAttribute("Water") then
                v:Destroy()
            end
        end
    end
})

-- NoClip Feature
leftMovement:AddToggle({
    Name = "NoClip",
    Flag = "noclip",
    Default = false,
    Callback = function(enabled)
        _G.Features.NoClip = enabled
        local player = game.Players.LocalPlayer
        if player and player.Character then
            for _, part in ipairs(player.Character:GetChildren()) do
                if part:IsA("BasePart") then
                    part.CanCollide = not enabled
                end
            end
        end
    end
})

-- Teleport to Mouse
leftUtilities:AddKeybind({
    Name = "Teleport to Mouse",
    Default = Enum.KeyCode.T,
    Callback = function(key)
        _G.TeleportKey = key
    end
})

-- Teleport implementation
game:GetService("UserInputService").InputBegan:Connect(function(input)
    if input.KeyCode == (_G.TeleportKey or Enum.KeyCode.T) then
        local character = game.Players.LocalPlayer.Character
        if character and character:FindFirstChild("HumanoidRootPart") then
            local mouse = game.Players.LocalPlayer:GetMouse()
            character.HumanoidRootPart.CFrame = CFrame.new(mouse.Hit.X, mouse.Hit.Y + 3, mouse.Hit.Z)
        end
    end
end)

-- Aura Feature
rightVisuals:AddToggle({
    Name = "Aura (Client)",
    Flag = "aura",
    Default = false,
    Callback = function(enabled)
        _G.Features.Aura = enabled
        local player = game.Players.LocalPlayer
        local character = player.Character or player.CharacterAdded:Wait()
        local humanoid = character:FindFirstChild("Humanoid")
        
        if enabled then
            -- Create aura effects
            local highlight = Instance.new("Highlight")
            highlight.Adornee = character
            highlight.FillTransparency = 1
            highlight.OutlineTransparency = 0
            highlight.OutlineColor = Color3.fromRGB(255, 0, 255)
            highlight.Parent = character
            
            -- Create particle effects
            for _, partName in pairs({"UpperTorso", "LowerTorso", "HumanoidRootPart"}) do
                local part = character:FindFirstChild(partName)
                if part then
                    local att = Instance.new("Attachment", part)
                    local particle = Instance.new("ParticleEmitter", att)
                    particle.Rate = 30
                    particle.Lifetime = NumberRange.new(1.2, 2)
                    particle.Size = NumberSequence.new({NumberSequenceKeypoint.new(0, 3), NumberSequenceKeypoint.new(1, 0)})
                end
            end
            
            -- Rainbow highlight
            task.spawn(function()
                local colorTime = 0
                while _G.Features.Aura do
                    task.wait(0.05)
                    colorTime = colorTime + 0.025
                    local r = math.sin(colorTime) * 127 + 128
                    local g = math.sin(colorTime + 2) * 127 + 128
                    local b = math.sin(colorTime + 4) * 127 + 128
                    highlight.OutlineColor = Color3.fromRGB(r, g, b)
                end
                highlight:Destroy()
            end)
        end
    end
})

-- Flowing + Grasp Automation
rightCombat:AddToggle({
    Name = "Flowing + Grasp",
    Flag = "flowing_grasp",
    Default = false,
    Callback = function(enabled)
        _G.Features.FlowingGrasp = enabled
        if enabled then
            task.spawn(function()
                while _G.Features.FlowingGrasp do
                    task.wait(0.1)
                    -- Flowing + Grasp automation logic
                end
            end)
        end
    end
})

-- Invisible Block
rightCombat:AddToggle({
    Name = "Invisible Block",
    Flag = "invisible_block",
    Default = false,
    Callback = function(enabled)
        _G.Features.InvisibleBlock = enabled
        local player = game.Players.LocalPlayer
        local character = player.Character or player.CharacterAdded:Wait()
        local humanoid = character:FindFirstChild("Humanoid")
        
        if enabled then
            task.spawn(function()
                while _G.Features.InvisibleBlock and humanoid do
                    for _, track in ipairs(humanoid:GetPlayingAnimationTracks()) do
                        if track.Animation and track.Animation.AnimationId == "rbxassetid://10470389827" then
                            track:Stop()
                        end
                    end
                    task.wait(0.05)
                end
            end)
        end
    end
})

-- Ultimate Features
local ultSection = Combat:DrawSection({
    Name = "Ultimates",
    Position = "RIGHT"
})

ultSection:AddButton({
    Name = "5 Seasons",
    Callback = function()
        -- KJ's 5 Seasons ultimate implementation
        local player = game.Players.LocalPlayer
        repeat wait() until player.Character.Humanoid
        local humanoid = player.Character.Humanoid
        
        local anim = Instance.new("Animation")
        anim.AnimationId = "rbxassetid://18462894593"
        local playAnim = humanoid:LoadAnimation(anim)
        anim.AnimationId = "rbxassetid://0"
        playAnim:Play()
        
        -- Sound effects and particles would be added here
    end
})

-- Anti Kick
rightUtilities:AddToggle({
    Name = "Anti Kick",
    Flag = "anti_kick",
    Default = false,
    Callback = function(enabled)
        _G.Features.AntiKick = enabled
        if enabled then
            -- Anti kick implementation
        end
    end
})

-- Final UI Setup
Window:Draw()

-- Feature state initialization
_G.Features = {
    ESP = false,
    Aimbot = false,
    NoClip = false,
    Aura = false,
    FlowingGrasp = false,
    InvisibleBlock = false,
    AntiKick = false
}

_G.ESP = {
    BoxColor = Color3.fromRGB(255, 0, 0),
    TextColor = Color3.fromRGB(255, 255, 255),
    ShowNames = true,
    ShowHealth = true
}

-- Auto-update server text
task.spawn(function()
    while true do
        task.wait(5)
        serverText:SetText(game.JobId)
    end
end)

-- Game state monitoring
task.spawn(function()
    local player = game.Players.LocalPlayer
    player.CharacterAdded:Connect(function(newCharacter)
        -- Reapply settings when character respawns
        local humanoid = newCharacter:WaitForChild("Humanoid")
        
        if _G.Features.NoClip then
            for _, part in ipairs(newCharacter:GetChildren()) do
                if part:IsA("BasePart") then
                    part.CanCollide = false
                end
            end
        end
        
        if _G.Features.Aura then
            -- Recreate aura effects
        end
    end)
end)
