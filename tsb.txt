--! Souls Hub - Combined Script
--! Combines all the best features from multiple Roblox scripts
--! Made with Souls Hub UI Library

local SoulsHub = loadstring(game:HttpGet("https://pandadevelopment.net/virtual/file/e7f388d3c065df7a"))();

task.wait(1)

SoulsHub:Loader(nil , 1).yield()

local FileWatcher = SoulsHub:ConfigManager({
	Directory = "SoulsHub",
	Config = "Example-Configs"	
});

local Window = SoulsHub.new({
	Keybind = "LeftAlt",
});

local watermark = Window:Watermark();

watermark:AddText({
	Icon = "user",
	Text = "Souls Hub"
})

local vim = watermark:AddText({
	Icon = "clock",
	Text = SoulsHub:GetTimeNow()
})

task.spawn(function()
	while true do task.wait()
		vim:SetText(SoulsHub:GetTimeNow())
		
		Window.Username =  "SoulsHub User"
		end;
end)

Window:Update({
	ExpireDate = SoulsHub:GetDate(tick() + 84000)
})

watermark:AddText({
	Icon = "server",
	Text = "Ultimate Gaming Experience"
})

-- Global state for feature management
_G.FeatureStates = _G.FeatureStates or {}

-- Main Tabs
local Combat = Window:DrawTab({
	Icon = "sword",
	Name = "Combat",
	Type = "Double"
});

local Movement = Window:DrawTab({
	Icon = "run",
	Name = "Movement"
});

local Visuals = Window:DrawTab({
	Icon = "eye",
	Name = "Visuals"
});

local Automation = Window:DrawTab({
	Icon = "settings",
	Name = "Automation"
});

local Characters = Window:DrawTab({
	Icon = "user",
	Name = "Characters"
});

local Utility = Window:DrawTab({
	Icon = "tool",
	Name = "Utility"
});

local Configs = Window:DrawConfig({
	Name = "Configs",
	Icon = "folder",
	Config = FileWatcher
});

Configs:Init();

-- Combat Tab Sections
local RagebotSection = Combat:DrawSection({
	Name = "Ragebot Features",
	Position = "LEFT"
});

local LegitSection = Combat:DrawSection({
	Name = "Legit Features", 
	Position = "RIGHT"
});

local ComboSection = Combat:DrawSection({
	Name = "Combo System",
	Position = "RIGHT"
});

-- Ragebot Features
local ragebotEnabled = RagebotSection:AddToggle({
	Name = "Ragebot Enabled",
	Flag = "ragebot_enabled",
	Callback = function(enabled)
		_G.FeatureStates.RagebotEnabled = enabled
	end
});

ragebotEnabled.Link:AddOption():AddToggle({
	Name = "Target Team",
	Flag = "target_team"
});

ragebotEnabled.Link:AddOption():AddToggle({
	Name = "Target Enemy", 
	Flag = "target_enemy"
});

local silentAim = RagebotSection:AddToggle({
	Name = "Silent Aim",
	Flag = "silent_aim",
	Callback = function(enabled)
		_G.FeatureStates.SilentAim = enabled
	end
});

silentAim.Link:AddOption():AddToggle({
	Name = "Hide Shots",
	Flag = "hide_shots",
	Risky = true
});

RagebotSection:AddToggle({
	Name = "Auto Scope",
	Flag = "auto_scope",
	Callback = function(enabled)
		_G.FeatureStates.AutoScope = enabled
	end
});

RagebotSection:AddToggle({
	Name = "Compensate Spread",
	Risky = true,
	Flag = "compensate_spread",
	Callback = function(enabled)
		_G.FeatureStates.CompensateSpread = enabled
	end
});

RagebotSection:AddToggle({
	Name = "Double Tap",
	Risky = true,
	Flag = "double_tap",
	Callback = function(enabled)
		_G.FeatureStates.DoubleTap = enabled
	end
});

-- Legit Features
local legitbotEnabled = LegitSection:AddToggle({
	Name = "Legitbot Enabled",
	Flag = "legitbot_enabled",
	Callback = function(enabled)
		_G.FeatureStates.LegitbotEnabled = enabled
	end
});

legitbotEnabled.Link:AddKeybind({
	Name = "Aim Assist Key",
	Default = Enum.KeyCode.MouseButton2,
	Callback = function(key)
		_G.FeatureStates.AimAssistKey = key
	end
});

LegitSection:AddSlider({
	Name = "Aim FOV",
	Min = 0,
	Max = 360,
	Default = 90,
	Flag = "aim_fov",
	Callback = function(value)
		_G.FeatureStates.AimFOV = value
	end
});

LegitSection:AddSlider({
	Name = "Aim Smoothness",
	Min = 0,
	Max = 100,
	Default = 50,
	Flag = "aim_smoothness",
	Callback = function(value)
		_G.FeatureStates.AimSmoothness = value
	end
});

-- Combo System
local comboEnabled = ComboSection:AddToggle({
	Name = "Combo Counter",
	Flag = "combo_enabled",
	Callback = function(enabled)
		_G.FeatureStates.ComboEnabled = enabled
		if enabled then
			task.spawn(function()
				while _G.FeatureStates.ComboEnabled do
					task.wait()
					-- Combo logic would go here
				end
			end)
		end
	end
});

comboEnabled.Link:AddSlider({
	Name = "Combo Timeout",
	Min = 1,
	Max = 10,
	Default = 5,
	Flag = "combo_timeout",
	Callback = function(value)
		_G.FeatureStates.ComboTimeout = value
	end
});

-- Movement Tab Sections
local SpeedSection = Movement:DrawSection({
	Name = "Speed Controls",
	Position = "LEFT"
});

local JumpSection = Movement:DrawSection({
	Name = "Jump Controls",
	Position = "RIGHT"
});

local TeleportSection = Movement:DrawSection({
	Name = "Teleportation",
	Position = "RIGHT"
});

-- Speed Controls
local speedEnabled = SpeedSection:AddToggle({
	Name = "Speed Hack",
	Flag = "speed_enabled",
	Callback = function(enabled)
		_G.FeatureStates.SpeedEnabled = enabled
	end
});

speedEnabled.Link:AddSlider({
	Name = "WalkSpeed",
	Min = 16,
	Max = 200,
	Default = 16,
	Type = "studs/s",
	Flag = "walkspeed",
	Callback = function(value)
		_G.FeatureStates.WalkSpeed = value
		local player = game.Players.LocalPlayer
		if player and player.Character and player.Character:FindFirstChildOfClass("Humanoid") then
			player.Character.Humanoid.WalkSpeed = value
		end
	end
});

speedEnabled.Link:AddSlider({
	Name = "Run Speed",
	Min = 16,
	Max = 300,
	Default = 16,
	Type = "studs/s",
	Flag = "runspeed",
	Callback = function(value)
		_G.FeatureStates.RunSpeed = value
	end
});

-- Jump Controls  
local jumpEnabled = JumpSection:AddToggle({
	Name = "Jump Mod",
	Flag = "jump_enabled",
	Callback = function(enabled)
		_G.FeatureStates.JumpEnabled = enabled
	end
});

jumpEnabled.Link:AddSlider({
	Name = "Jump Power",
	Min = 50,
	Max = 300,
	Default = 50,
	Type = "studs",
	Flag = "jump_power",
	Callback = function(value)
		_G.FeatureStates.JumpPower = value
		local player = game.Players.LocalPlayer
		if player and player.Character and player.Character:FindFirstChildOfClass("Humanoid") then
			player.Character.Humanoid.JumpPower = value
		end
	end
});

jumpEnabled.Link:AddSlider({
	Name = "Jump Height",
	Min = 7.2,
	Max = 100,
	Default = 7.2,
	Type = "studs",
	Flag = "jump_height",
	Callback = function(value)
		_G.FeatureStates.JumpHeight = value
		local player = game.Players.LocalPlayer
		if player and player.Character and player.Character:FindFirstChildOfClass("Humanoid") then
			player.Character.Humanoid.JumpHeight = value
		end
	end
});

-- Teleportation
TeleportSection:AddButton({
	Name = "Teleport to Middle",
	Callback = function()
		local player = game.Players.LocalPlayer
		if player and player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
			player.Character.HumanoidRootPart.CFrame = CFrame.new(148, 441, 27)
		end
	end
});

TeleportSection:AddButton({
	Name = "Teleport to Atomic Room",
	Callback = function()
		local player = game.Players.LocalPlayer
		if player and player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
			player.Character.HumanoidRootPart.CFrame = CFrame.new(1079, 155, 23003)
		end
	end
});

TeleportSection:AddButton({
	Name = "Teleport to Baseplate",
	Callback = function()
		local player = game.Players.LocalPlayer
		if player and player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
			player.Character.HumanoidRootPart.CFrame = CFrame.new(968, 20, 23088)
		end
	end
});

TeleportSection:AddKeybind({
	Name = "Teleport to Mouse",
	Default = Enum.KeyCode.T,
	Callback = function(key)
		_G.FeatureStates.TeleportKey = key
		task.spawn(function()
			local Players = game:GetService("Players")
			local RunService = game:GetService("RunService")
			local mouse = Players.LocalPlayer:GetMouse()
			RunService.InputBegan:Connect(function(input)
				if input.UserInputType == Enum.UserInputType.Keyboard and input.KeyCode == _G.FeatureStates.TeleportKey then
					local player = Players.LocalPlayer
					if player and player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
						local targetPosition = mouse.Hit.p
						player.Character.HumanoidRootPart.CFrame = CFrame.new(targetPosition.X, targetPosition.Y + 5, targetPosition.Z)
					end
				end
			end)
		end)
	end
});

-- Visuals Tab Sections
local ESPSection = Visuals:DrawSection({
	Name = "ESP System",
	Position = "LEFT"
});

local EffectsSection = Visuals:DrawSection({
	Name = "Visual Effects",
	Position = "RIGHT"
});

-- ESP System
local espEnabled = ESPSection:AddToggle({
	Name = "Enable ESP",
	Flag = "esp_enabled",
	Callback = function(enabled)
		_G.FeatureStates.ESPEnabled = enabled
		if enabled then
			task.spawn(drawESP)
		else
			task.spawn(clearESP)
		end
	end
});

espEnabled.Link:AddColorPicker({
	Name = "ESP Box Color",
	Default = Color3.fromRGB(255, 0, 0),
	Flag = "esp_box_color",
	Callback = function(color)
		_G.FeatureStates.ESPBoxColor = color
	end
});

espEnabled.Link:AddColorPicker({
	Name = "ESP Name Color", 
	Default = Color3.fromRGB(0, 255, 0),
	Flag = "esp_name_color",
	Callback = function(color)
		_G.FeatureStates.ESPNameColor = color
	end
});

ESPSection:AddToggle({
	Name = "Show Names",
	Flag = "esp_show_names",
	Default = true,
	Callback = function(enabled)
		_G.FeatureStates.ESPSShowNames = enabled
	end
});

ESPSection:AddToggle({
	Name = "Show Boxes",
	Flag = "esp_show_boxes", 
	Default = true,
	Callback = function(enabled)
		_G.FeatureStates.ESPSShowBoxes = enabled
	end
});

ESPSection:AddToggle({
	Name = "Show Health",
	Flag = "esp_show_health",
	Default = true,
	Callback = function(enabled)
		_G.FeatureStates.ESPShowHealth = enabled
	end
});

-- Visual Effects
local effectsEnabled = EffectsSection:AddToggle({
	Name = "Enable Effects",
	Flag = "effects_enabled",
	Callback = function(enabled)
		_G.FeatureStates.EffectsEnabled = enabled
	end
});

effectsEnabled.Link:AddColorPicker({
	Name = "Highlight Color",
	Default = Color3.fromRGB(107, 255, 28),
	Flag = "highlight_color",
	Callback = function(color)
		_G.FeatureStates.HighlightColor = color
		SoulsHub:ChangeHighlightColor(color)
	end
});

EffectsSection:AddToggle({
	Name = "Rainbow UI",
	Flag = "rainbow_ui",
	Default = false,
	Callback = function(enabled)
		_G.RAINBOW = enabled
	end
});

EffectsSection:AddSlider({
	Name = "Rainbow Speed",
	Min = 0.01,
	Max = 1,
	Default = 0.1,
	Flag = "rainbow_speed",
	Callback = function(value)
		_G.RAINBOW_SPEED = value
	end
});

EffectsSection:AddSlider({
	Name = "FOV",
	Min = 10,
	Max = 120,
	Default = 70,
	Flag = "fov",
	Callback = function(value)
		workspace.CurrentCamera.FieldOfView = value
	end
});

-- Automation Tab Sections
local AutoFarmSection = Automation:DrawSection({
	Name = "Auto Farm",
	Position = "LEFT"
});

local AutoSkillSection = Automation:DrawSection({
	Name = "Auto Skills",
	Position = "RIGHT"
});

-- Auto Farm
local autoFarmEnabled = AutoFarmSection:AddToggle({
	Name = "Auto Farm Kills",
	Flag = "auto_farm_enabled",
	Callback = function(enabled)
		_G.FeatureStates.AutoFarmEnabled = enabled
		if enabled then
			task.spawn(startAutoFarm)
		else
			task.spawn(stopAutoFarm)
		end
	end
});

autoFarmEnabled.Link:AddSlider({
	Name = "Farm Range",
	Min = 10,
	Max = 100,
	Default = 50,
	Flag = "farm_range",
	Callback = function(value)
		_G.FeatureStates.FarmRange = value
	end
});

-- Auto Skills
local autoSkillEnabled = AutoSkillSection:AddToggle({
	Name = "Auto Use Skills",
	Flag = "auto_skills_enabled",
	Callback = function(enabled)
		_G.FeatureStates.AutoSkillsEnabled = enabled
	end
});

autoSkillEnabled.Link:AddDropdown({
	Name = "Skill Priority",
	Values = {"Flowing Water", "Lethal Whirlwind Stream", "Hunter's Grasp", "Prey's Peril"},
	Default = "Flowing Water",
	Flag = "skill_priority",
	Callback = function(value)
		_G.FeatureStates.SkillPriority = value
	end
});

-- Characters Tab Sections
local MovesetSection = Characters:DrawSection({
	Name = "Movesets",
	Position = "LEFT"
});

local TransformationSection = Characters:DrawSection({
	Name = "Transformations",
	Position = "RIGHT"
});

-- Movesets
MovesetSection:AddButton({
	Name = "Load Monster Garou",
	Callback = function()
		task.spawn(loadMonsterGarou)
	end
}).Link:AddHelper({
	Text = "Load Monster Garou moveset with combo system"
});

MovesetSection:AddButton({
	Name = "Load Kyoto Script", 
	Callback = function()
		task.spawn(loadKyotoScript)
	end
}).Link:AddHelper({
	Text = "Load Kyoto auto-combat script"
});

MovesetSection:AddButton({
	Name = "Load KJ Moveset",
	Callback = function()
		task.spawn(loadKJMovset)
	end
}).Link:AddHelper({
	Text = "Load Killer Joke moveset"
});

MovesetSection:AddButton({
	Name = "Load Gojo Moveset",
	Callback = function()
		task.spawn(loadGojoMoveset)
	end
}).Link:AddHelper({
	Text = "Load Gojo moveset"
});

-- Transformations
local transformationEnabled = TransformationSection:AddToggle({
	Name = "Enable Transformations",
	Flag = "transformations_enabled",
	Callback = function(enabled)
		_G.FeatureStates.TransformationsEnabled = enabled
	end
});

transformationEnabled.Link:AddButton({
	Name = "Trashcan Man",
	Callback = function()
		if _G.FeatureStates.TransformationsEnabled then
			loadstring(game:HttpGet("https://raw.githubusercontent.com/yes1nt/yes/refs/heads/main/Trashcan%20Man", true))()
		end
	end
});

transformationEnabled.Link:AddButton({
	Name = "Golden Head",
	Callback = function()
		if _G.FeatureStates.TransformationsEnabled then
			getgenv().stand = false
			getgenv().ken = false
			getgenv().Spawn = false
			loadstring(game:HttpGet('https://raw.githubusercontent.com/Kenjihin69/Kenjihin69/refs/heads/main/Saitama%20to%20golden%20sigma'))()
		end
	end
});

-- Utility Tab Sections
local GameSection = Utility:DrawSection({
	Name = "Game Utils",
	Position = "LEFT"
});

local SystemSection = Utility:DrawSection({
	Name = "System Utils", 
	Position = "RIGHT"
});

-- Game Utilities
local noclipEnabled = GameSection:AddToggle({
	Name = "NoClip",
	Flag = "noclip_enabled",
	Callback = function(enabled)
		_G.FeatureStates.NoClipEnabled = enabled
		task.spawn(function()
			local Players = game:GetService("Players")
			local player = Players.LocalPlayer
			while _G.FeatureStates.NoClipEnabled and player and player.Character do
				task.wait()
				for _, part in ipairs(player.Character:GetChildren()) do
					if part:IsA("BasePart") then
						part.CanCollide = not enabled
						part.Transparency = enabled and 0.5 or 0
					end
				end
			end
		end)
	end
});

GameSection:AddToggle({
	Name = "Anti-AFK",
	Flag = "anti_afk_enabled",
	Callback = function(enabled)
		_G.FeatureStates.AntiAFKEnabled = enabled
		if enabled then
			task.spawn(function()
				local Players = game:GetService("Players")
				local UserInputService = game:GetService("UserInputService")
				while _G.FeatureStates.AntiAFKEnabled do
					task.wait(30)
					UserInputService:SendKeyEvent(true, Enum.KeyCode.W, false, game)
					task.wait(0.1)
					UserInputService:SendKeyEvent(false, Enum.KeyCode.W, false, game)
				end
			end)
		end
	end
}).Link:AddHelper({
	Text = "Prevents AFK kicks"
});

GameSection:AddButton({
	Name = "Heal Player",
	Callback = function()
		local player = game.Players.LocalPlayer
		if player and player.Character and player.Character:FindFirstChildOfClass("Humanoid") then
			player.Character.Humanoid.Health = player.Character.Humanoid.MaxHealth
		end
	end
});

GameSection:AddButton({
	Name = "Rejoin Server",
	Callback = function()
		game:GetService("TeleportService"):Teleport(game.PlaceId, game.Players.LocalPlayer)
	end
});

-- System Utilities
SystemSection:AddToggle({
	Name = "No Dash Cooldown",
	Flag = "no_dash_cooldown",
	Callback = function(enabled)
		workspace:SetAttribute("NoDashCooldown", enabled)
	end
});

SystemSection:AddToggle({
	Name = "No Fatigue",
	Flag = "no_fatigue",
	Callback = function(enabled)
		workspace:SetAttribute("NoFatigue", enabled)
	end
});

SystemSection:AddSlider({
	Name = "Gravity",
	Min = 0,
	Max = 200,
	Default = 80,
	Flag = "gravity",
	Callback = function(value)
		workspace.Gravity = value
	end
});

SystemSection:AddButton({
	Name = "Print Config",
	Callback = function()
		print("Current Config:")
		print(SoulsHub:GetConfig())
	end
});

-- Feature Implementation Functions

-- ESP System Implementation
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local Workspace = game:GetService("Workspace")

local espVisuals = {}

local function createBoxESP(character, color)
	local box = Instance.new("BoxHandleAdornment")
	box.Adornee = character
	box.Color3 = color
	box.Transparency = 0.5
	box.AlwaysOnTop = true
	box.ZIndex = 1
	box.Extents = character.PrimaryPart.Size
	box.CFrame = character.PrimaryPart.CFrame
	box.Parent = Workspace.CurrentCamera
	return box
end

local function createNameESP(character, name, color)
	local billboardGui = Instance.new("BillboardGui")
	billboardGui.Size = UDim2.new(0, 100, 0, 20)
	billboardGui.Adornee = character.PrimaryPart
	billboardGui.AlwaysOnTop = true
	billboardGui.ExtentsOffset = Vector3.new(0, character.PrimaryPart.Size.Y / 2 + 1, 0)
	
	local textLabel = Instance.new("TextLabel")
	textLabel.Size = UDim2.new(1, 0, 1, 0)
	textLabel.BackgroundTransparency = 1
	textLabel.TextScaled = true
	textLabel.TextColor3 = color
	textLabel.TextStrokeTransparency = 0
	textLabel.Font = Enum.Font.SourceSansBold
	textLabel.Text = name
	textLabel.Parent = billboardGui
	
	billboardGui.Parent = Workspace.CurrentCamera
	return billboardGui
end

local function createHealthESP(character, health, maxHealth, color)
	local billboardGui = Instance.new("BillboardGui")
	billboardGui.Size = UDim2.new(0, 100, 0, 10)
	billboardGui.Adornee = character.PrimaryPart
	billboardGui.AlwaysOnTop = true
	billboardGui.ExtentsOffset = Vector3.new(0, character.PrimaryPart.Size.Y / 2 + 2, 0)
	
	local healthBar = Instance.new("Frame")
	healthBar.Size = UDim2.new(1, 0, 1, 0)
	healthBar.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
	healthBar.Parent = billboardGui
	
	local currentHealth = Instance.new("Frame")
	currentHealth.Size = UDim2.new(health / maxHealth, 0, 1, 0)
	currentHealth.BackgroundColor3 = color
	currentHealth.Parent = healthBar
	
	billboardGui.Parent = Workspace.CurrentCamera
	return billboardGui
end

function drawESP()
	for _, visual in pairs(espVisuals) do
		visual:Destroy()
	end
	espVisuals = {}
	
	local espBoxColor = _G.FeatureStates.ESPBoxColor or Color3.fromRGB(255, 0, 0)
	local espNameColor = _G.FeatureStates.ESPNameColor or Color3.fromRGB(0, 255, 0)
	
	for _, player in ipairs(Players:GetPlayers()) do
		if player ~= Players.LocalPlayer and player.Character and player.Character:FindFirstChildOfClass("Humanoid") and player.Character:FindFirstChild("HumanoidRootPart") then
			local character = player.Character
			local humanoid = character:FindFirstChildOfClass("Humanoid")
			
			if _G.FeatureStates.ESPSShowBoxes and _G.FeatureStates.ESPShowBoxes then
				table.insert(espVisuals, createBoxESP(character, espBoxColor))
			end
			if _G.FeatureStates.ESPSShowNames and _G.FeatureStates.ESPShowNames then
				table.insert(espVisuals, createNameESP(character, player.Name, espNameColor))
			end
			if _G.FeatureStates.ESPShowHealth and humanoid then
				table.insert(espVisuals, createHealthESP(character, humanoid.Health, humanoid.MaxHealth, espNameColor))
			end
		end
	end
end

function clearESP()
	for _, visual in pairs(espVisuals) do
		visual:Destroy()
	end
	espVisuals = {}
end

-- Auto Farm Implementation
local farmConnection

function startAutoFarm()
	if farmConnection then return end
	
	farmConnection = RunService.RenderStepped:Connect(function()
		if not _G.FeatureStates.AutoFarmEnabled then return end
		
		local LocalPlayer = Players.LocalPlayer
		if not LocalPlayer.Character or not LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then return end
		
		local RootPart = LocalPlayer.Character.HumanoidRootPart
		local closest = nil
		local shortestDistance = math.huge
		
		for _, player in ipairs(Players:GetPlayers()) do
			if player ~= LocalPlayer and player.Character and player.Character:FindFirstChild("HumanoidRootPart") and player.Character:FindFirstChild("Humanoid") then
				local targetHumanoid = player.Character.Humanoid
				if targetHumanoid.Health > 0 then
					local distance = (RootPart.Position - player.Character.HumanoidRootPart.Position).Magnitude
					if distance < (_G.FeatureStates.FarmRange or 50) and distance < shortestDistance then
						closest = player
						shortestDistance = distance
					end
				end
			end
		end
		
		if closest and closest.Character and closest.Character:FindFirstChild("HumanoidRootPart") then
			local enemyRoot = closest.Character.HumanoidRootPart
			RootPart.CFrame = enemyRoot.CFrame * CFrame.new(0, 0, 2)
			
			local AttackRemote = game:GetService("ReplicatedStorage"):FindFirstChild("CombatRemote")
			if AttackRemote then
				pcall(function()
					AttackRemote:FireServer()
				end)
			end
		end
	end)
end

function stopAutoFarm()
	if farmConnection then
		farmConnection:Disconnect()
		farmConnection = nil
	end
end

-- Moveset Loading Functions
function loadMonsterGarou()
	-- Key system for Monster Garou
	local KeySystemEnabled = true
	local ValidKeys = {"monstergreedy", "FreakyGarou", "AkihaVermillion", "DrakeScript123"}
	
	local function IsKeyValid(inputKey)
		for _, validKey in pairs(ValidKeys) do
			if inputKey == validKey then return true end
		end
		return false
	end
	
	if KeySystemEnabled then
		local ScreenGui = Instance.new("ScreenGui")
		local MainFrame = Instance.new("Frame")
		local Title = Instance.new("TextLabel")
		local KeyBox = Instance.new("TextBox")
		local SubmitButton = Instance.new("TextButton")
		local StatusLabel = Instance.new("TextLabel")
		
		ScreenGui.Name = "KeySystemGUI"
		ScreenGui.Parent = game.CoreGui
		MainFrame.Parent = ScreenGui
		MainFrame.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
		MainFrame.Position = UDim2.new(0.5, -200, 0.5, -150)
		MainFrame.Size = UDim2.new(0, 400, 0, 300)
		MainFrame.Active = true
		MainFrame.Draggable = true
		
		local corner = Instance.new("UICorner")
		corner.CornerRadius = UDim.new(0, 10)
		corner.Parent = MainFrame
		
		Title.Parent = MainFrame
		Title.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
		Title.Size = UDim2.new(1, 0, 0, 50)
		Title.Font = Enum.Font.GothamBold
		Title.Text = "greedy hub - KEY SYSTEM"
		Title.TextColor3 = Color3.fromRGB(255, 255, 255)
		Title.TextSize = 20
		
		local titleCorner = Instance.new("UICorner")
		titleCorner.CornerRadius = UDim.new(0, 10)
		titleCorner.Parent = Title
		
		KeyBox.Parent = MainFrame
		KeyBox.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
		KeyBox.Position = UDim2.new(0.1, 0, 0.3, 0)
		KeyBox.Size = UDim2.new(0.8, 0, 0, 40)
		KeyBox.Font = Enum.Font.Gotham
		KeyBox.PlaceholderText = "Enter Key Here..."
		KeyBox.Text = ""
		KeyBox.TextColor3 = Color3.fromRGB(255, 255, 255)
		KeyBox.TextSize = 16
		
		local keyboxCorner = Instance.new("UICorner")
		keyboxCorner.CornerRadius = UDim.new(0, 8)
		keyboxCorner.Parent = KeyBox
		
		SubmitButton.Parent = MainFrame
		SubmitButton.BackgroundColor3 = Color3.fromRGB(0, 200, 0)
		SubmitButton.Position = UDim2.new(0.1, 0, 0.55, 0)
		SubmitButton.Size = UDim2.new(0.8, 0, 0, 40)
		SubmitButton.Font = Enum.Font.GothamBold
		SubmitButton.Text = "SUBMIT KEY"
		SubmitButton.TextColor3 = Color3.fromRGB(255, 255, 255)
		SubmitButton.TextSize = 18
		
		local submitCorner = Instance.new("UICorner")
		submitCorner.CornerRadius = UDim.new(0, 8)
		submitCorner.Parent = SubmitButton
		
		StatusLabel.Parent = MainFrame
		StatusLabel.BackgroundTransparency = 1
		StatusLabel.Position = UDim2.new(0, 0, 0.92, 0)
		StatusLabel.Size = UDim2.new(1, 0, 0, 20)
		StatusLabel.Font = Enum.Font.Gotham
		StatusLabel.Text = "Join Discord to get your key"
		StatusLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
		StatusLabel.TextSize = 12
		
		local KeySystemPassed = false
		
		SubmitButton.MouseButton1Click:Connect(function()
			local enteredKey = KeyBox.Text
			if IsKeyValid(enteredKey) then
				StatusLabel.Text = "Key Accepted! Loading Monster Garou..."
				StatusLabel.TextColor3 = Color3.fromRGB(0, 255, 0)
				KeySystemPassed = true
				wait(1)
				ScreenGui:Destroy()
				initializeMonsterGarou()
			else
				StatusLabel.Text = "Invalid Key! Try again..."
				StatusLabel.TextColor3 = Color3.fromRGB(255, 0, 0)
				KeyBox.Text = ""
				wait(2)
				StatusLabel.Text = "Join Discord to get your key"
				StatusLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
			end
		end)
		
		repeat wait() until KeySystemPassed
	else
		initializeMonsterGarou()
	end
end

function initializeMonsterGarou()
	-- Initialize Monster Garou moveset logic here
	-- This would include all the animation systems, combo tracking, etc.
	
	local player = game.Players.LocalPlayer
	local character = player.Character
	local humanoid = character:FindFirstChildOfClass("Humanoid")
	local hrp = character:FindFirstChild("HumanoidRootPart")
	
	if not humanoid or not hrp then return end
	
	-- Setup animation connections and combo system
	-- This is a simplified version - full implementation would be quite extensive
	
	local comboEnabled = true
	local lastHitTime = os.clock()
	local timeout = 5
	local health = nil
	local ohealth = humanoid.Health
	
	-- Combo counter UI
	local ScreenGui = Instance.new("ScreenGui")
	local MainFrame = Instance.new("Frame")
	local HitCounter = Instance.new("TextLabel")
	local DamageCounter = Instance.new("TextLabel")
	
	ScreenGui.Parent = game.CoreGui
	ScreenGui.Name = 'ComboCounter'
	ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Global
	ScreenGui.IgnoreGuiInset = true
	ScreenGui.ResetOnSpawn = false
	
	MainFrame.Name = "MainFrame"
	MainFrame.Parent = ScreenGui
	MainFrame.BackgroundTransparency = 1
	MainFrame.Position = UDim2.new(.93, 0, .4, 0)
	MainFrame.Size = UDim2.new(.3, 0, .1, 0)
	
	local Hits = Instance.new("NumberValue")
	local Dmg = Instance.new("NumberValue")
	
	HitCounter.Parent = MainFrame
	HitCounter.Font = Enum.Font.Arcade
	HitCounter.TextColor3 = Color3.new(1, 1, 1)
	HitCounter.Position = UDim2.new(0, 0, 0, 0)
	HitCounter.Size = UDim2.new(.1, 0, .1, 0)
	HitCounter.BackgroundTransparency = 1
	HitCounter.Visible = false
	
	DamageCounter.Visible = false
	DamageCounter.Parent = MainFrame
	DamageCounter.Font = Enum.Font.Arcade
	DamageCounter.TextColor3 = Color3.new(1, 1, 1)
	DamageCounter.Position = UDim2.new(-.05, 0, .25, 0)
	DamageCounter.Size = UDim2.new(.1, 0, .1, 0)
	DamageCounter.BackgroundTransparency = 1
	
	Hits.Value = 1
	
	local connection = character:GetAttributeChangedSignal('LastDamageDone'):Connect(function()
		lastHitTime = os.clock()
		
		-- Find current enemy
		for _, part in ipairs(workspace.Live:GetChildren()) do
			if part:IsA('Model') and part:FindFirstChild('HumanoidRootPart', 1) then
				pcall(function()
					local You = string.sub(character:GetAttribute('LastDamageDone'), 1, 13)
					local Them = string.sub(part:GetAttribute('LastDamage'), 1, 13)
					
					if You == Them then
						_G.EN = part
						health = part.Humanoid.Health
					end
				end)
			end
		end
		
		if health == 0 then
			-- Ultimate activation logic would go here
		end
		
		if ohealth ~= health then
			if health >= ohealth then
				-- heal detection
			else
				Dmg.Value = Dmg.Value + ohealth - health
			end
			Hits.Value = Hits.Value + 1
			HitCounter.Visible = true
			DamageCounter.Visible = true
			HitCounter.TextSize = 155
			HitCounter.TextColor3 = Color3.new(1, 1, 1 - Hits.Value / 35)
			DamageCounter.Text = math.floor(Dmg.Value) .. ' Damage!'
			DamageCounter.TextSize = 155
			HitCounter.Text = Hits.Value .. ' Hits!'
			DamageCounter.TextColor3 = Color3.new(1, 1 - Dmg.Value / 100, 1 - Dmg.Value / 100)
		end
		
		-- Update old health
		for _, part in ipairs(workspace.Live:GetChildren()) do
			if part:IsA('Model') and part:FindFirstChild('HumanoidRootPart', 1) then
				pcall(function()
					local You = string.sub(character:GetAttribute('LastDamageDone'), 1, 13)
					local Them = string.sub(part:GetAttribute('LastDamage'), 1, 13)
					
					if You == Them then
						ohealth = part.Humanoid.Health
					end
				end)
			end
		end
	end)
	
	-- Combo timeout system
	task.spawn(function()
		while comboEnabled do
			if comboEnabled and (os.clock() - lastHitTime >= timeout) then
				HitCounter.Visible = false
				DamageCounter.Visible = false
				Hits.Value = 0
				Dmg.Value = 0
			end
			task.wait(0.1)
		end
	end)
	
	-- Animation system would be initialized here with all the move detections
end

function loadKyotoScript()
	-- Load Kyoto auto-combat functionality
	local player = game.Players.LocalPlayer
	local TweenService = game:GetService("TweenService")
	
	-- Create Kyoto button
	local screenGui = Instance.new("ScreenGui", player:WaitForChild("PlayerGui"))
	screenGui.ResetOnSpawn = false
	
	local button = Instance.new("TextButton")
	button.Parent = screenGui
	button.Size = UDim2.new(0, 50, 0, 50)
	button.Position = UDim2.new(0.5, -100, 0.8, 0)
	button.Text = "Kyoto"
	button.BackgroundColor3 = Color3.fromRGB(80, 80, 255)
	button.TextColor3 = Color3.new(1, 1, 1)
	button.TextScaled = true
	button.Active = true
	button.Draggable = true
	
	-- Make button draggable
	local dragging = false
	local dragStartPos = nil
	local dragThreshold = 10
	local pressTime = 0
	
	button.InputBegan:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.Touch or input.UserInputType == Enum.UserInputType.MouseButton1 then
			dragStartPos = input.Position
			dragging = false
			pressTime = tick()
		end
	end)
	
	button.InputChanged:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.Touch or input.UserInputType == Enum.UserInputType.MouseMovement then
			if dragStartPos and (input.Position - dragStartPos).Magnitude > dragThreshold then
				dragging = true
			end
		end
	end)
	
	button.InputEnded:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.Touch or input.UserInputType == Enum.UserInputType.MouseButton1 then
			local holdDuration = tick() - pressTime
			
			if not dragging and holdDuration < 1 then
				-- Execute Kyoto combo
				executeKyotoCombo()
			end
			
			dragStartPos = nil
			dragging = false
		end
	end)
end

function executeKyotoCombo()
	local player = game.Players.LocalPlayer
	
	-- Flowing Water
	local args1 = {
		[1] = {
			["Tool"] = player.Backpack:FindFirstChild("Flowing Water"),
			["Goal"] = "Console Move"
		}
	}
	player.Character.Communicate:FireServer(unpack(args1))
	
	task.wait(2.15)
	
	local char = player.Character
	if not char or not char:FindFirstChild("HumanoidRootPart") then return end
	local hrp = char.HumanoidRootPart
	
	-- Move forward
	local forward = hrp.CFrame.LookVector.Unit
	local distance = 20
	local duration = 0.1
	local goalPos = hrp.Position + forward * distance
	
	local TweenService = game:GetService("TweenService")
	local tween = TweenService:Create(hrp, TweenInfo.new(duration), {
		CFrame = CFrame.new(goalPos, goalPos + forward)
	})
	tween:Play()
	tween.Completed:Wait()
	
	-- Rotate 180 degrees
	hrp.CFrame = hrp.CFrame * CFrame.Angles(0, math.rad(180), 0)
	
	-- Lethal Whirlwind Stream
	local args = {
		[1] = {
			["Tool"] = game:GetService("Players").LocalPlayer.Backpack:FindFirstChild("Lethal Whirlwind Stream"),
			["Goal"] = "Console Move"
		}
	}
	
	game:GetService("Players").LocalPlayer.Character.Communicate:FireServer(unpack(args))
end

function loadKJMovset()
	-- Load Killer Joke moveset with all animations and effects
	local player = game.Players.LocalPlayer
	
	-- KJ Ravage Move
	local function executeRavage()
		player.Character.Humanoid.WalkSpeed = 0
		repeat wait() until player.Character.Humanoid
		
		local humanoid = player.Character.Humanoid
		local character = player.Character or player.CharacterAdded:Wait()
		
		-- Animation sequence
		local anim = Instance.new("Animation")
		anim.AnimationId = "rbxassetid://16945573694"
		local playAnim = humanoid:LoadAnimation(anim)
		anim.AnimationId = "rbxassetid://0"
		playAnim:Play()
		
		wait(0.7)
		
		local anim2 = Instance.new("Animation")
		anim2.AnimationId = "rbxassetid://16945550029"
		local playAnim2 = humanoid:LoadAnimation(anim2)
		anim2.AnimationId = "rbxassetid://0"
		playAnim2:Play()
		
		-- Sound effects and particle effects
		local soundeffect = Instance.new("Sound")
		soundeffect.SoundId = "rbxassetid://17325540665"
		soundeffect.Parent = player.Character.Torso
		soundeffect:Play()
		soundeffect.Volume = 1
		
		-- Particle effects
		local hit1 = game.ReplicatedStorage.Resources.KJEffects["HitParticles"].Hit:Clone()
		hit1.Parent = player.Character["Right Arm"]
		for _, child in ipairs(hit1:GetChildren()) do
			if child:IsA("ParticleEmitter") then
				child:Emit(1)
			end
		end
		
		wait(1.3)
		
		-- Additional sound and particle effects would continue here...
		-- This is a simplified version
		
		player.Character.Humanoid.WalkSpeed = 16
	end
	
	-- Store the function for use
	_G.ExecuteRavage = executeRavage
end

function loadGojoMoveset()
	-- Load Gojo moveset functionality
	getgenv().FatalCombatSkillLayout = true
	getgenv().MovesetReachSound = true
	loadstring(game:HttpGet("https://gist.githubusercontent.com/SonicexePort/d83f3eca5e8092468df1551df09db39a/raw/861f16fbae8fab8803cabfbc01295bb5b687f86a/Death%20Port%20Six%20Eyes%20Public%20Beta"))()
end

-- Rainbow highlight system
task.spawn(function()
	local x = 0
	while true do
		task.wait(_G.RAINBOW_SPEED or 0.1)
		
		if _G.RAINBOW then
			SoulsHub:ChangeHighlightColor(Color3.fromHSV(x, 1, 1))
			x = x + 2 / 255
			
			if x >= 1 then
				x = 0
			end
		end
	end
end)

-- Final UI setup
Window:Draw()

-- Character reconnection handling
pcall(function()
	getgenv().pepe:Disconnect()
end)

getgenv().pepe = game.Players.LocalPlayer.CharacterAdded:Connect(function(c)
	task.wait(1.5)
	
	-- Re-initialize features for new character
	if _G.FeatureStates.SpeedEnabled then
		local player = game.Players.LocalPlayer
		if player and player.Character and player.Character:FindFirstChildOfClass("Humanoid") then
			player.Character.Humanoid.WalkSpeed = _G.FeatureStates.WalkSpeed or 16
		end
	end
	
	if _G.FeatureStates.JumpEnabled then
		local player = game.Players.LocalPlayer
		if player and player.Character and player.Character:FindFirstChildOfClass("Humanoid") then
			player.Character.Humanoid.JumpPower = _G.FeatureStates.JumpPower or 50
			player.Character.Humanoid.JumpHeight = _G.FeatureStates.JumpHeight or 7.2
		end
	end
	
	if _G.FeatureStates.ESPEnabled then
		task.spawn(drawESP)
	end
	
	if _G.FeatureStates.AutoFarmEnabled then
		task.spawn(startAutoFarm)
	end
end)

-- Initial feature states setup
_G.FeatureStates = {
	RagebotEnabled = false,
	LegitbotEnabled = false,
	ComboEnabled = false,
	SpeedEnabled = false,
	JumpEnabled = false,
	ESPEnabled = false,
	EffectsEnabled = false,
	AutoFarmEnabled = false,
	AutoSkillsEnabled = false,
	TransformationsEnabled = false,
	NoClipEnabled = false,
	AntiAFKEnabled = false
}

-- Send notification about successful load
game:GetService("StarterGui"):SetCore("SendNotification", {
	Title = "Souls Hub";
	Text = "Loaded Successfully!";
	Duration = 5;
})
